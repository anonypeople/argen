<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" language="Java"
      filename="C:\Users\dnader\git\biorimp\BIO-RIMP\test_data\code\xerces\src\org\apache\xerces\impl\xpath\regex\RegularExpression.java">
    <comment type="block">/*
        * Copyright 1999-2002,2004,2005 The Apache Software Foundation.
        *
        * Licensed under the Apache License, Version 2.0 (the "License");
        * you may not use this file except in compliance with the License.
        * You may obtain a copy of the License at
        *
        * http://www.apache.org/licenses/LICENSE-2.0
        *
        * Unless required by applicable law or agreed to in writing, software
        * distributed under the License is distributed on an "AS IS" BASIS,
        * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
        * See the License for the specific language governing permissions and
        * limitations under the License.
        */
    </comment>

    <package>package
        <name><name>org</name>.<name>apache</name>.<name>xerces</name>.<name>impl</name>.<name>xpath</name>.
            <name>regex</name>
        </name>
        ;
    </package>

    <import>import
        <name><name>java</name>.<name>text</name>.
            <name>CharacterIterator</name>
        </name>
        ;
    </import>

    <comment type="javadoc">/**
        * A regular expression matching engine using Non-deterministic Finite Automaton (NFA).
        * This engine does not conform to the POSIX regular expression.
        *
        * &lt;hr width="50%"&gt;
        * &lt;h3&gt;How to use&lt;/h3&gt;
        *
        * &lt;dl&gt;
        * &lt;dt&gt;A. Standard way
        * &lt;dd&gt;
        * &lt;pre&gt;
        * RegularExpression re = new RegularExpression(&lt;var&gt;regex&lt;/var&gt;);
        * if (re.matches(text)) { ... }
        * &lt;/pre&gt;
        *
        * &lt;dt&gt;B. Capturing groups
        * &lt;dd&gt;
        * &lt;pre&gt;
        * RegularExpression re = new RegularExpression(&lt;var&gt;regex&lt;/var&gt;);
        * Match match = new Match();
        * if (re.matches(text, match)) {
        * ... // You can refer captured texts with methods of the &lt;code&gt;Match&lt;/code&gt; class.
        * }
        * &lt;/pre&gt;
        *
        * &lt;/dl&gt;
        *
        * &lt;h4&gt;Case-insensitive matching&lt;/h4&gt;
        * &lt;pre&gt;
        * RegularExpression re = new RegularExpression(&lt;var&gt;regex&lt;/var&gt;, "i");
        * if (re.matches(text) &gt;= 0) { ...}
        * &lt;/pre&gt;
        *
        * &lt;h4&gt;Options&lt;/h4&gt;
        * &lt;p&gt;You can specify options to &lt;a href="#RegularExpression(java.lang.String, java.lang.String)"&gt;&lt;code&gt;RegularExpression(&lt;/code&gt;&lt;var&gt;regex&lt;/var&gt;&lt;code&gt;,
        &lt;/code&gt;&lt;var&gt;options&lt;/var&gt;&lt;code&gt;)&lt;/code&gt;&lt;/a&gt;
        * or &lt;a href="#setPattern(java.lang.String, java.lang.String)"&gt;&lt;code&gt;setPattern(&lt;/code&gt;&lt;var&gt;regex&lt;/var&gt;&lt;code&gt;,
        &lt;/code&gt;&lt;var&gt;options&lt;/var&gt;&lt;code&gt;)&lt;/code&gt;&lt;/a&gt;.
        * This &lt;var&gt;options&lt;/var&gt; parameter consists of the following characters.
        * &lt;/p&gt;
        * &lt;dl&gt;
        * &lt;dt&gt;&lt;a name="I_OPTION"&gt;&lt;code&gt;"i"&lt;/code&gt;&lt;/a&gt;
        * &lt;dd&gt;This option indicates case-insensitive matching.
        * &lt;dt&gt;&lt;a name="M_OPTION"&gt;&lt;code&gt;"m"&lt;/code&gt;&lt;/a&gt;
        * &lt;dd class="REGEX"&gt;&lt;kbd&gt;^&lt;/kbd&gt; and &lt;kbd&gt;$&lt;/kbd&gt; consider the EOL characters
        within the text.
        * &lt;dt&gt;&lt;a name="S_OPTION"&gt;&lt;code&gt;"s"&lt;/code&gt;&lt;/a&gt;
        * &lt;dd class="REGEX"&gt;&lt;kbd&gt;.&lt;/kbd&gt; matches any one character.
        * &lt;dt&gt;&lt;a name="U_OPTION"&gt;&lt;code&gt;"u"&lt;/code&gt;&lt;/a&gt;
        * &lt;dd class="REGEX"&gt;Redefines &lt;Kbd&gt;\d \D \w \W \s \S \b \B \&amp;lt; \&gt;&lt;/kbd&gt; as becoming
        to Unicode.
        * &lt;dt&gt;&lt;a name="W_OPTION"&gt;&lt;code&gt;"w"&lt;/code&gt;&lt;/a&gt;
        * &lt;dd class="REGEX"&gt;By this option, &lt;kbd&gt;\b \B \&amp;lt; \&gt;&lt;/kbd&gt; are processed with the
        method of
        * 'Unicode Regular Expression Guidelines' Revision 4.
        * When "w" and "u" are specified at the same time,
        * &lt;kbd&gt;\b \B \&amp;lt; \&gt;&lt;/kbd&gt; are processed for the "w" option.
        * &lt;dt&gt;&lt;a name="COMMA_OPTION"&gt;&lt;code&gt;","&lt;/code&gt;&lt;/a&gt;
        * &lt;dd&gt;The parser treats a comma in a character class as a range separator.
        * &lt;kbd class="REGEX"&gt;[a,b]&lt;/kbd&gt; matches &lt;kbd&gt;a&lt;/kbd&gt; or &lt;kbd&gt;,&lt;/kbd&gt; or
        &lt;kbd&gt;b&lt;/kbd&gt; without this option.
        * &lt;kbd class="REGEX"&gt;[a,b]&lt;/kbd&gt; matches &lt;kbd&gt;a&lt;/kbd&gt; or &lt;kbd&gt;b&lt;/kbd&gt; with
        this option.
        *
        * &lt;dt&gt;&lt;a name="X_OPTION"&gt;&lt;code&gt;"X"&lt;/code&gt;&lt;/a&gt;
        * &lt;dd class="REGEX"&gt;
        * By this option, the engine confoms to &lt;a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/#regexs"&gt;XML
        Schema: Regular Expression&lt;/a&gt;.
        * The &lt;code&gt;match()&lt;/code&gt; method does not do subsring matching
        * but entire string matching.
        *
        * &lt;/dl&gt;
        *
        * &lt;hr width="50%"&gt;
        * &lt;h3&gt;Syntax&lt;/h3&gt;
        * &lt;table border="1" bgcolor="#ddeeff"&gt;
        * &lt;tr&gt;
        * &lt;td&gt;
        * &lt;h4&gt;Differences from the Perl 5 regular expression&lt;/h4&gt;
        * &lt;ul&gt;
        * &lt;li&gt;There is 6-digit hexadecimal character representation (&lt;kbd&gt;\u005cv&lt;/kbd&gt;&lt;var&gt;HHHHHH&lt;/var&gt;.)
        * &lt;li&gt;Supports subtraction, union, and intersection operations for character classes.
        * &lt;li&gt;Not supported: &lt;kbd&gt;\&lt;/kbd&gt;&lt;var&gt;ooo&lt;/var&gt; (Octal character representations),
        * &lt;Kbd&gt;\G&lt;/kbd&gt;, &lt;kbd&gt;\C&lt;/kbd&gt;, &lt;kbd&gt;\l&lt;/kbd&gt;&lt;var&gt;c&lt;/var&gt;,
        * &lt;kbd&gt;\u005c u&lt;/kbd&gt;&lt;var&gt;c&lt;/var&gt;, &lt;kbd&gt;\L&lt;/kbd&gt;, &lt;kbd&gt;\U&lt;/kbd&gt;,
        * &lt;kbd&gt;\E&lt;/kbd&gt;, &lt;kbd&gt;\Q&lt;/kbd&gt;, &lt;kbd&gt;\N{&lt;/kbd&gt;&lt;var&gt;name&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;,
        * &lt;Kbd&gt;(?{&lt;kbd&gt;&lt;var&gt;code&lt;/var&gt;&lt;kbd&gt;})&lt;/kbd&gt;, &lt;Kbd&gt;(??{&lt;kbd&gt;&lt;var&gt;code&lt;/var&gt;&lt;kbd&gt;})&lt;/kbd&gt;
        * &lt;/ul&gt;
        * &lt;/td&gt;
        * &lt;/tr&gt;
        * &lt;/table&gt;
        *
        * &lt;P&gt;Meta characters are `&lt;KBD&gt;. * + ? { [ ( ) | \ ^ $&lt;/KBD&gt;'.&lt;/P&gt;
        * &lt;ul&gt;
        * &lt;li&gt;Character
        * &lt;dl&gt;
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;.&lt;/kbd&gt; (A period)
        * &lt;dd&gt;Matches any one character except the following characters.
        * &lt;dd&gt;LINE FEED (U+000A), CARRIAGE RETURN (U+000D),
        * PARAGRAPH SEPARATOR (U+2029), LINE SEPARATOR (U+2028)
        * &lt;dd&gt;This expression matches one code point in Unicode. It can match a pair of surrogates.
        * &lt;dd&gt;When &lt;a href="#S_OPTION"&gt;the "s" option&lt;/a&gt; is specified,
        * it matches any character including the above four characters.
        *
        * &lt;dt class="REGEX"&gt;&lt;Kbd&gt;\e \f \n \r \t&lt;/kbd&gt;
        * &lt;dd&gt;Matches ESCAPE (U+001B), FORM FEED (U+000C), LINE FEED (U+000A),
        * CARRIAGE RETURN (U+000D), HORIZONTAL TABULATION (U+0009)
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\c&lt;/kbd&gt;&lt;var&gt;C&lt;/var&gt;
        * &lt;dd&gt;Matches a control character.
        * The &lt;var&gt;C&lt;/var&gt; must be one of '&lt;kbd&gt;@&lt;/kbd&gt;', '&lt;kbd&gt;A&lt;/kbd&gt;'-'&lt;kbd&gt;Z&lt;/kbd&gt;',
        * '&lt;kbd&gt;[&lt;/kbd&gt;', '&lt;kbd&gt;\u005c&lt;/kbd&gt;', '&lt;kbd&gt;]&lt;/kbd&gt;', '&lt;kbd&gt;^&lt;/kbd&gt;',
        '&lt;kbd&gt;_&lt;/kbd&gt;'.
        * It matches a control character of which the character code is less than
        * the character code of the &lt;var&gt;C&lt;/var&gt; by 0x0040.
        * &lt;dd class="REGEX"&gt;For example, a &lt;kbd&gt;\cJ&lt;/kbd&gt; matches a LINE FEED (U+000A),
        * and a &lt;kbd&gt;\c[&lt;/kbd&gt; matches an ESCAPE (U+001B).
        *
        * &lt;dt class="REGEX"&gt;a non-meta character
        * &lt;dd&gt;Matches the character.
        *
        * &lt;dt class="REGEX"&gt;&lt;KBD&gt;\&lt;/KBD&gt; + a meta character
        * &lt;dd&gt;Matches the meta character.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\u005cx&lt;/kbd&gt;&lt;var&gt;HH&lt;/var&gt; &lt;kbd&gt;\u005cx{&lt;/kbd&gt;&lt;var&gt;HHHH&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;
        * &lt;dd&gt;Matches a character of which code point is &lt;var&gt;HH&lt;/var&gt; (Hexadecimal) in Unicode.
        * You can write just 2 digits for &lt;kbd&gt;\u005cx&lt;/kbd&gt;&lt;var&gt;HH&lt;/var&gt;, and
        * variable length digits for &lt;kbd&gt;\u005cx{&lt;/kbd&gt;&lt;var&gt;HHHH&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;.
        *
        * &lt;!--
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\u005c u&lt;/kbd&gt;&lt;var&gt;HHHH&lt;/var&gt;
        * &lt;dd&gt;Matches a character of which code point is &lt;var&gt;HHHH&lt;/var&gt; (Hexadecimal) in Unicode.
        * --&gt;
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\u005cv&lt;/kbd&gt;&lt;var&gt;HHHHHH&lt;/var&gt;
        * &lt;dd&gt;Matches a character of which code point is &lt;var&gt;HHHHHH&lt;/var&gt; (Hexadecimal) in Unicode.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\g&lt;/kbd&gt;
        * &lt;dd&gt;Matches a grapheme.
        * &lt;dd class="REGEX"&gt;It is equivalent to &lt;kbd&gt;(?[\p{ASSIGNED}]-[\p{M}\p{C}])?(?:\p{M}|[\x{094D}\x{09CD}\x{0A4D}\x{0ACD}\x{0B3D}\x{0BCD}\x{0C4D}\x{0CCD}\x{0D4D}\x{0E3A}\x{0F84}]\p{L}|[\x{1160}-\x{11A7}]|[\x{11A8}-\x{11FF}]|[\x{FF9E}\x{FF9F}])*&lt;/kbd&gt;
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\X&lt;/kbd&gt;
        * &lt;dd class="REGEX"&gt;Matches a combining character sequence.
        * It is equivalent to &lt;kbd&gt;(?:\PM\pM*)&lt;/kbd&gt;
        * &lt;/dl&gt;
        * &lt;/li&gt;
        *
        * &lt;li&gt;Character class
        * &lt;dl&gt;
        + * &lt;dt class="REGEX"&gt;&lt;kbd&gt;[&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;var&gt;R&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;&lt;var&gt;...&lt;/var&gt;&lt;var&gt;R&lt;sub&gt;n&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;]&lt;/kbd&gt;
        (without &lt;a href="#COMMA_OPTION"&gt;"," option&lt;/a&gt;)
        + * &lt;dt class="REGEX"&gt;&lt;kbd&gt;[&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;...&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;n&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;]&lt;/kbd&gt;
        (with &lt;a href="#COMMA_OPTION"&gt;"," option&lt;/a&gt;)
        * &lt;dd&gt;Positive character class. It matches a character in ranges.
        * &lt;dd&gt;&lt;var&gt;R&lt;sub&gt;n&lt;/sub&gt;&lt;/var&gt;:
        * &lt;ul&gt;
        * &lt;li class="REGEX"&gt;A character (including &lt;Kbd&gt;\e \f \n \r \t&lt;/kbd&gt; &lt;kbd&gt;\u005cx&lt;/kbd&gt;&lt;var&gt;HH&lt;/var&gt;
        &lt;kbd&gt;\u005cx{&lt;/kbd&gt;&lt;var&gt;HHHH&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt; &lt;!--kbd&gt;\u005c u&lt;/kbd&gt;&lt;var&gt;HHHH&lt;/var--&gt;
        &lt;kbd&gt;\u005cv&lt;/kbd&gt;&lt;var&gt;HHHHHH&lt;/var&gt;)
        * &lt;p&gt;This range matches the character.
        * &lt;li class="REGEX"&gt;&lt;var&gt;C&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;-&lt;/kbd&gt;&lt;var&gt;C&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;
        * &lt;p&gt;This range matches a character which has a code point that is &gt;= &lt;var&gt;C&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;'s
        code point and &amp;lt;= &lt;var&gt;C&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;'s code point.
        + * &lt;li class="REGEX"&gt;A POSIX character class: &lt;Kbd&gt;[:alpha:] [:alnum:] [:ascii:] [:cntrl:]
        [:digit:] [:graph:] [:lower:] [:print:] [:punct:] [:space:] [:upper:] [:xdigit:]&lt;/kbd&gt;,
        + * and negative POSIX character classes in Perl like &lt;kbd&gt;[:^alpha:]&lt;/kbd&gt;
        * &lt;p&gt;...
        * &lt;li class="REGEX"&gt;&lt;kbd&gt;\d \D \s \S \w \W \p{&lt;/kbd&gt;&lt;var&gt;name&lt;/var&gt;&lt;kbd&gt;}
        \P{&lt;/kbd&gt;&lt;var&gt;name&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;
        * &lt;p&gt;These expressions specifies the same ranges as the following expressions.
        * &lt;/ul&gt;
        * &lt;p class="REGEX"&gt;Enumerated ranges are merged (union operation).
        * &lt;kbd&gt;[a-ec-z]&lt;/kbd&gt; is equivalent to &lt;kbd&gt;[a-z]&lt;/kbd&gt;
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;[^&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;var&gt;R&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;&lt;var&gt;...&lt;/var&gt;&lt;var&gt;R&lt;sub&gt;n&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;]&lt;/kbd&gt;
        (without a &lt;a href="#COMMA_OPTION"&gt;"," option&lt;/a&gt;)
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;[^&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;1&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;2&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;...&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;n&lt;/sub&gt;&lt;/var&gt;&lt;kbd&gt;]&lt;/kbd&gt;
        (with a &lt;a href="#COMMA_OPTION"&gt;"," option&lt;/a&gt;)
        * &lt;dd&gt;Negative character class. It matches a character not in ranges.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?[&lt;/kbd&gt;&lt;var&gt;ranges&lt;/var&gt;&lt;kbd&gt;]&lt;/kbd&gt;&lt;var&gt;op&lt;/var&gt;&lt;kbd&gt;[&lt;/kbd&gt;&lt;var&gt;ranges&lt;/var&gt;&lt;kbd&gt;]&lt;/kbd&gt;&lt;var&gt;op&lt;/var&gt;&lt;kbd&gt;[&lt;/kbd&gt;&lt;var&gt;ranges&lt;/var&gt;&lt;kbd&gt;]&lt;/kbd&gt;
        ... &lt;Kbd&gt;)&lt;/kbd&gt;
        * (&lt;var&gt;op&lt;/var&gt; is &lt;kbd&gt;-&lt;/kbd&gt; or &lt;kbd&gt;+&lt;/kbd&gt; or &lt;kbd&gt;&amp;&lt;/kbd&gt;.)
        * &lt;dd&gt;Subtraction or union or intersection for character classes.
        * &lt;dd class="REGEX"&gt;For exmaple, &lt;kbd&gt;(?[A-Z]-[CF])&lt;/kbd&gt; is equivalent to &lt;kbd&gt;[A-BD-EG-Z]&lt;/kbd&gt;,
        and &lt;kbd&gt;(?[0x00-0x7f]-[K]&amp;[\p{Lu}])&lt;/kbd&gt; is equivalent to &lt;kbd&gt;[A-JL-Z]&lt;/kbd&gt;.
        * &lt;dd&gt;The result of this operations is a &lt;u&gt;positive character class&lt;/u&gt;
        * even if an expression includes any negative character classes.
        * You have to take care on this in case-insensitive matching.
        * For instance, &lt;kbd&gt;(?[^b])&lt;/kbd&gt; is equivalent to &lt;kbd&gt;[\x00-ac-\x{10ffff}]&lt;/kbd&gt;,
        * which is equivalent to &lt;kbd&gt;[^b]&lt;/kbd&gt; in case-sensitive matching.
        * But, in case-insensitive matching, &lt;kbd&gt;(?[^b])&lt;/kbd&gt; matches any character because
        * it includes '&lt;kbd&gt;B&lt;/kbd&gt;' and '&lt;kbd&gt;B&lt;/kbd&gt;' matches '&lt;kbd&gt;b&lt;/kbd&gt;'
        * though &lt;kbd&gt;[^b]&lt;/kbd&gt; is processed as &lt;kbd&gt;[^Bb]&lt;/kbd&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;[&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;1&lt;/sub&gt;R&lt;sub&gt;2&lt;/sub&gt;...&lt;/var&gt;&lt;kbd&gt;-[&lt;/kbd&gt;&lt;var&gt;R&lt;sub&gt;n&lt;/sub&gt;R&lt;sub&gt;n+1&lt;/sub&gt;...&lt;/var&gt;&lt;kbd&gt;]]&lt;/kbd&gt;
        (with an &lt;a href="#X_OPTION"&gt;"X" option&lt;/a&gt;)&lt;/dt&gt;
        * &lt;dd&gt;Character class subtraction for the XML Schema.
        * You can use this syntax when you specify an &lt;a href="#X_OPTION"&gt;"X" option&lt;/a&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\d&lt;/kbd&gt;
        * &lt;dd class="REGEX"&gt;Equivalent to &lt;kbd&gt;[0-9]&lt;/kbd&gt;.
        * &lt;dd&gt;When &lt;a href="#U_OPTION"&gt;a "u" option&lt;/a&gt; is set, it is equivalent to
        * &lt;span class="REGEX"&gt;&lt;kbd&gt;\p{Nd}&lt;/kbd&gt;&lt;/span&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\D&lt;/kbd&gt;
        * &lt;dd class="REGEX"&gt;Equivalent to &lt;kbd&gt;[^0-9]&lt;/kbd&gt;
        * &lt;dd&gt;When &lt;a href="#U_OPTION"&gt;a "u" option&lt;/a&gt; is set, it is equivalent to
        * &lt;span class="REGEX"&gt;&lt;kbd&gt;\P{Nd}&lt;/kbd&gt;&lt;/span&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\s&lt;/kbd&gt;
        * &lt;dd class="REGEX"&gt;Equivalent to &lt;kbd&gt;[ \f\n\r\t]&lt;/kbd&gt;
        * &lt;dd&gt;When &lt;a href="#U_OPTION"&gt;a "u" option&lt;/a&gt; is set, it is equivalent to
        * &lt;span class="REGEX"&gt;&lt;kbd&gt;[ \f\n\r\t\p{Z}]&lt;/kbd&gt;&lt;/span&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\S&lt;/kbd&gt;
        * &lt;dd class="REGEX"&gt;Equivalent to &lt;kbd&gt;[^ \f\n\r\t]&lt;/kbd&gt;
        * &lt;dd&gt;When &lt;a href="#U_OPTION"&gt;a "u" option&lt;/a&gt; is set, it is equivalent to
        * &lt;span class="REGEX"&gt;&lt;kbd&gt;[^ \f\n\r\t\p{Z}]&lt;/kbd&gt;&lt;/span&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\w&lt;/kbd&gt;
        * &lt;dd class="REGEX"&gt;Equivalent to &lt;kbd&gt;[a-zA-Z0-9_]&lt;/kbd&gt;
        * &lt;dd&gt;When &lt;a href="#U_OPTION"&gt;a "u" option&lt;/a&gt; is set, it is equivalent to
        * &lt;span class="REGEX"&gt;&lt;kbd&gt;[\p{Lu}\p{Ll}\p{Lo}\p{Nd}_]&lt;/kbd&gt;&lt;/span&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\W&lt;/kbd&gt;
        * &lt;dd class="REGEX"&gt;Equivalent to &lt;kbd&gt;[^a-zA-Z0-9_]&lt;/kbd&gt;
        * &lt;dd&gt;When &lt;a href="#U_OPTION"&gt;a "u" option&lt;/a&gt; is set, it is equivalent to
        * &lt;span class="REGEX"&gt;&lt;kbd&gt;[^\p{Lu}\p{Ll}\p{Lo}\p{Nd}_]&lt;/kbd&gt;&lt;/span&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\p{&lt;/kbd&gt;&lt;var&gt;name&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;
        * &lt;dd&gt;Matches one character in the specified General Category (the second field in &lt;a
        href="ftp://ftp.unicode.org/Public/UNIDATA/UnicodeData.txt"&gt;&lt;kbd&gt;UnicodeData.txt&lt;/kbd&gt;&lt;/a&gt;)
        or the specified &lt;a href="ftp://ftp.unicode.org/Public/UNIDATA/Blocks.txt"&gt;Block&lt;/a&gt;.
        * The following names are available:
        * &lt;dl&gt;
        * &lt;dt&gt;Unicode General Categories:
        * &lt;dd&gt;&lt;kbd&gt;
        * L, M, N, Z, C, P, S, Lu, Ll, Lt, Lm, Lo, Mn, Me, Mc, Nd, Nl, No, Zs, Zl, Zp,
        * Cc, Cf, Cn, Co, Cs, Pd, Ps, Pe, Pc, Po, Sm, Sc, Sk, So,
        * &lt;/kbd&gt;
        * &lt;dd&gt;(Currently the Cn category includes U+10000-U+10FFFF characters)
        * &lt;dt&gt;Unicode Blocks:
        * &lt;dd&gt;&lt;kbd&gt;
        * Basic Latin, Latin-1 Supplement, Latin Extended-A, Latin Extended-B,
        * IPA Extensions, Spacing Modifier Letters, Combining Diacritical Marks, Greek,
        * Cyrillic, Armenian, Hebrew, Arabic, Devanagari, Bengali, Gurmukhi, Gujarati,
        * Oriya, Tamil, Telugu, Kannada, Malayalam, Thai, Lao, Tibetan, Georgian,
        * Hangul Jamo, Latin Extended Additional, Greek Extended, General Punctuation,
        * Superscripts and Subscripts, Currency Symbols, Combining Marks for Symbols,
        * Letterlike Symbols, Number Forms, Arrows, Mathematical Operators,
        * Miscellaneous Technical, Control Pictures, Optical Character Recognition,
        * Enclosed Alphanumerics, Box Drawing, Block Elements, Geometric Shapes,
        * Miscellaneous Symbols, Dingbats, CJK Symbols and Punctuation, Hiragana,
        * Katakana, Bopomofo, Hangul Compatibility Jamo, Kanbun,
        * Enclosed CJK Letters and Months, CJK Compatibility, CJK Unified Ideographs,
        * Hangul Syllables, High Surrogates, High Private Use Surrogates, Low Surrogates,
        * Private Use, CJK Compatibility Ideographs, Alphabetic Presentation Forms,
        * Arabic Presentation Forms-A, Combining Half Marks, CJK Compatibility Forms,
        * Small Form Variants, Arabic Presentation Forms-B, Specials,
        * Halfwidth and Fullwidth Forms
        * &lt;/kbd&gt;
        * &lt;dt&gt;Others:
        * &lt;dd&gt;&lt;kbd&gt;ALL&lt;/kbd&gt; (Equivalent to &lt;kbd&gt;[\u005cu0000-\u005cv10FFFF]&lt;/kbd&gt;)
        * &lt;dd&gt;&lt;kbd&gt;ASSGINED&lt;/kbd&gt; (&lt;kbd&gt;\p{ASSIGNED}&lt;/kbd&gt; is equivalent to &lt;kbd&gt;\P{Cn}&lt;/kbd&gt;)
        * &lt;dd&gt;&lt;kbd&gt;UNASSGINED&lt;/kbd&gt;
        * (&lt;kbd&gt;\p{UNASSIGNED}&lt;/kbd&gt; is equivalent to &lt;kbd&gt;\p{Cn}&lt;/kbd&gt;)
        * &lt;/dl&gt;
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\P{&lt;/kbd&gt;&lt;var&gt;name&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;
        * &lt;dd&gt;Matches one character not in the specified General Category or the specified Block.
        * &lt;/dl&gt;
        * &lt;/li&gt;
        *
        * &lt;li&gt;Selection and Quantifier
        * &lt;dl&gt;
        * &lt;dt class="REGEX"&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;|&lt;/kbd&gt;&lt;VAR&gt;Y&lt;/VAR&gt;
        * &lt;dd&gt;...
        *
        * &lt;dt class="REGEX"&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;*&lt;/KBD&gt;
        * &lt;dd&gt;Matches 0 or more &lt;var&gt;X&lt;/var&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;+&lt;/KBD&gt;
        * &lt;dd&gt;Matches 1 or more &lt;var&gt;X&lt;/var&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;?&lt;/KBD&gt;
        * &lt;dd&gt;Matches 0 or 1 &lt;var&gt;X&lt;/var&gt;.
        *
        * &lt;dt class="REGEX"&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;{&lt;/kbd&gt;&lt;var&gt;number&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;
        * &lt;dd&gt;Matches &lt;var&gt;number&lt;/var&gt; times.
        *
        * &lt;dt class="REGEX"&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;{&lt;/kbd&gt;&lt;var&gt;min&lt;/var&gt;&lt;kbd&gt;,}&lt;/kbd&gt;
        * &lt;dd&gt;...
        *
        * &lt;dt class="REGEX"&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;{&lt;/kbd&gt;&lt;var&gt;min&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;max&lt;/var&gt;&lt;kbd&gt;}&lt;/kbd&gt;
        * &lt;dd&gt;...
        *
        * &lt;dt class="REGEX"&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;*?&lt;/kbd&gt;
        * &lt;dt class="REGEX"&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;+?&lt;/kbd&gt;
        * &lt;dt class="REGEX"&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;??&lt;/kbd&gt;
        * &lt;dt class="REGEX"&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;{&lt;/kbd&gt;&lt;var&gt;min&lt;/var&gt;&lt;kbd&gt;,}?&lt;/kbd&gt;
        * &lt;dt class="REGEX"&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;{&lt;/kbd&gt;&lt;var&gt;min&lt;/var&gt;&lt;kbd&gt;,&lt;/kbd&gt;&lt;var&gt;max&lt;/var&gt;&lt;kbd&gt;}?&lt;/kbd&gt;
        * &lt;dd&gt;Non-greedy matching.
        * &lt;/dl&gt;
        * &lt;/li&gt;
        *
        * &lt;li&gt;Grouping, Capturing, and Back-reference
        * &lt;dl&gt;
        * &lt;dt class="REGEX"&gt;&lt;KBD&gt;(?:&lt;/kbd&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;)&lt;/KBD&gt;
        * &lt;dd&gt;Grouping. "&lt;KBD&gt;foo+&lt;/KBD&gt;" matches "&lt;KBD&gt;foo&lt;/KBD&gt;" or "&lt;KBD&gt;foooo&lt;/KBD&gt;".
        * If you want it matches "&lt;KBD&gt;foofoo&lt;/KBD&gt;" or "&lt;KBD&gt;foofoofoo&lt;/KBD&gt;",
        * you have to write "&lt;KBD&gt;(?:foo)+&lt;/KBD&gt;".
        *
        * &lt;dt class="REGEX"&gt;&lt;KBD&gt;(&lt;/kbd&gt;&lt;VAR&gt;X&lt;/VAR&gt;&lt;kbd&gt;)&lt;/KBD&gt;
        * &lt;dd&gt;Grouping with capturing.
        * It make a group and applications can know
        * where in target text a group matched with methods of a &lt;code&gt;Match&lt;/code&gt; instance
        * after &lt;code&gt;&lt;a href="#matches(java.lang.String, org.apache.xerces.utils.regex.Match)"&gt;matches(String,Match)&lt;/a&gt;&lt;/code&gt;.
        * The 0th group means whole of this regular expression.
        * The &lt;VAR&gt;N&lt;/VAR&gt;th gorup is the inside of the &lt;VAR&gt;N&lt;/VAR&gt;th left parenthesis.
        *
        * &lt;p&gt;For instance, a regular expression is
        * "&lt;FONT color=blue&gt;&lt;KBD&gt; *([^&amp;lt;:]*) +&amp;lt;([^&amp;gt;]*)&amp;gt; *&lt;/KBD&gt;&lt;/FONT&gt;"
        * and target text is
        * "&lt;FONT color=red&gt;&lt;KBD&gt;From: TAMURA Kent &amp;lt;kent@trl.ibm.co.jp&amp;gt;&lt;/KBD&gt;&lt;/FONT&gt;":
        * &lt;ul&gt;
        * &lt;li&gt;&lt;code&gt;Match.getCapturedText(0)&lt;/code&gt;:
        * "&lt;FONT color=red&gt;&lt;KBD&gt; TAMURA Kent &amp;lt;kent@trl.ibm.co.jp&amp;gt;&lt;/KBD&gt;&lt;/FONT&gt;"
        * &lt;li&gt;&lt;code&gt;Match.getCapturedText(1)&lt;/code&gt;: "&lt;FONT color=red&gt;&lt;KBD&gt;TAMURA Kent&lt;/KBD&gt;&lt;/FONT&gt;"
        * &lt;li&gt;&lt;code&gt;Match.getCapturedText(2)&lt;/code&gt;: "&lt;FONT color=red&gt;&lt;KBD&gt;kent@trl.ibm.co.jp&lt;/KBD&gt;&lt;/FONT&gt;"
        * &lt;/ul&gt;
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\1 \2 \3 \4 \5 \6 \7 \8 \9&lt;/kbd&gt;
        * &lt;dd&gt;
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?&gt;&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;Independent expression group. ................
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?&lt;/kbd&gt;&lt;var&gt;options&lt;/var&gt;&lt;kbd&gt;:&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?&lt;/kbd&gt;&lt;var&gt;options&lt;/var&gt;&lt;kbd&gt;-&lt;/kbd&gt;&lt;var&gt;options2&lt;/var&gt;&lt;kbd&gt;:&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;............................
        * &lt;dd&gt;The &lt;var&gt;options&lt;/var&gt; or the &lt;var&gt;options2&lt;/var&gt; consists of 'i' 'm' 's'
        'w'.
        * Note that it can not contain 'u'.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?&lt;/kbd&gt;&lt;var&gt;options&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?&lt;/kbd&gt;&lt;var&gt;options&lt;/var&gt;&lt;kbd&gt;-&lt;/kbd&gt;&lt;var&gt;options2&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;......
        * &lt;dd&gt;These expressions must be at the beginning of a group.
        * &lt;/dl&gt;
        * &lt;/li&gt;
        *
        * &lt;li&gt;Anchor
        * &lt;dl&gt;
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\A&lt;/kbd&gt;
        * &lt;dd&gt;Matches the beginnig of the text.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\Z&lt;/kbd&gt;
        * &lt;dd&gt;Matches the end of the text, or before an EOL character at the end of the text,
        * or CARRIAGE RETURN + LINE FEED at the end of the text.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\z&lt;/kbd&gt;
        * &lt;dd&gt;Matches the end of the text.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;^&lt;/kbd&gt;
        * &lt;dd&gt;Matches the beginning of the text. It is equivalent to &lt;span class="REGEX"&gt;&lt;Kbd&gt;\A&lt;/kbd&gt;&lt;/span&gt;.
        * &lt;dd&gt;When &lt;a href="#M_OPTION"&gt;a "m" option&lt;/a&gt; is set,
        * it matches the beginning of the text, or after one of EOL characters (
        * LINE FEED (U+000A), CARRIAGE RETURN (U+000D), LINE SEPARATOR (U+2028),
        * PARAGRAPH SEPARATOR (U+2029).)
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;$&lt;/kbd&gt;
        * &lt;dd&gt;Matches the end of the text, or before an EOL character at the end of the text,
        * or CARRIAGE RETURN + LINE FEED at the end of the text.
        * &lt;dd&gt;When &lt;a href="#M_OPTION"&gt;a "m" option&lt;/a&gt; is set,
        * it matches the end of the text, or before an EOL character.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\b&lt;/kbd&gt;
        * &lt;dd&gt;Matches word boundary.
        * (See &lt;a href="#W_OPTION"&gt;a "w" option&lt;/a&gt;)
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\B&lt;/kbd&gt;
        * &lt;dd&gt;Matches non word boundary.
        * (See &lt;a href="#W_OPTION"&gt;a "w" option&lt;/a&gt;)
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\&amp;lt;&lt;/kbd&gt;
        * &lt;dd&gt;Matches the beginning of a word.
        * (See &lt;a href="#W_OPTION"&gt;a "w" option&lt;/a&gt;)
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;\&amp;gt;&lt;/kbd&gt;
        * &lt;dd&gt;Matches the end of a word.
        * (See &lt;a href="#W_OPTION"&gt;a "w" option&lt;/a&gt;)
        * &lt;/dl&gt;
        * &lt;/li&gt;
        * &lt;li&gt;Lookahead and lookbehind
        * &lt;dl&gt;
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?=&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;Lookahead.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?!&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;Negative lookahead.
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?&amp;lt;=&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;Lookbehind.
        * &lt;dd&gt;(Note for text capturing......)
        *
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?&amp;lt;!&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;Negative lookbehind.
        * &lt;/dl&gt;
        * &lt;/li&gt;
        *
        * &lt;li&gt;Misc.
        * &lt;dl&gt;
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?(&lt;/Kbd&gt;&lt;var&gt;condition&lt;/var&gt;&lt;Kbd&gt;)&lt;/kbd&gt;&lt;var&gt;yes-pattern&lt;/var&gt;&lt;kbd&gt;|&lt;/kbd&gt;&lt;var&gt;no-pattern&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;,
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?(&lt;/kbd&gt;&lt;var&gt;condition&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;&lt;var&gt;yes-pattern&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;......
        * &lt;dt class="REGEX"&gt;&lt;kbd&gt;(?#&lt;/kbd&gt;&lt;var&gt;comment&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;
        * &lt;dd&gt;Comment. A comment string consists of characters except '&lt;kbd&gt;)&lt;/kbd&gt;'.
        * You can not write comments in character classes and before quantifiers.
        * &lt;/dl&gt;
        * &lt;/li&gt;
        * &lt;/ul&gt;
        *
        *
        * &lt;hr width="50%"&gt;
        * &lt;h3&gt;BNF for the regular expression&lt;/h3&gt;
        * &lt;pre&gt;
        * regex ::= ('(?' options ')')? term ('|' term)*
        * term ::= factor+
        * factor ::= anchors | atom (('*' | '+' | '?' | minmax ) '?'? )?
        * | '(?#' [^)]* ')'
        * minmax ::= '{' ([0-9]+ | [0-9]+ ',' | ',' [0-9]+ | [0-9]+ ',' [0-9]+) '}'
        * atom ::= char | '.' | char-class | '(' regex ')' | '(?:' regex ')' | '\' [0-9]
        * | '\w' | '\W' | '\d' | '\D' | '\s' | '\S' | category-block | '\X'
        * | '(?&gt;' regex ')' | '(?' options ':' regex ')'
        * | '(?' ('(' [0-9] ')' | '(' anchors ')' | looks) term ('|' term)? ')'
        * options ::= [imsw]* ('-' [imsw]+)?
        * anchors ::= '^' | '$' | '\A' | '\Z' | '\z' | '\b' | '\B' | '\&amp;lt;' | '\&gt;'
        * looks ::= '(?=' regex ')' | '(?!' regex ')'
        * | '(?&amp;lt;=' regex ')' | '(?&amp;lt;!' regex ')'
        * char ::= '\\' | '\' [efnrtv] | '\c' [@-_] | code-point | character-1
        * category-block ::= '\' [pP] category-symbol-1
        * | ('\p{' | '\P{') (category-symbol | block-name
        * | other-properties) '}'
        * category-symbol-1 ::= 'L' | 'M' | 'N' | 'Z' | 'C' | 'P' | 'S'
        * category-symbol ::= category-symbol-1 | 'Lu' | 'Ll' | 'Lt' | 'Lm' | Lo'
        * | 'Mn' | 'Me' | 'Mc' | 'Nd' | 'Nl' | 'No'
        * | 'Zs' | 'Zl' | 'Zp' | 'Cc' | 'Cf' | 'Cn' | 'Co' | 'Cs'
        * | 'Pd' | 'Ps' | 'Pe' | 'Pc' | 'Po'
        * | 'Sm' | 'Sc' | 'Sk' | 'So'
        * block-name ::= (See above)
        * other-properties ::= 'ALL' | 'ASSIGNED' | 'UNASSIGNED'
        * character-1 ::= (any character except meta-characters)
        *
        * char-class ::= '[' ranges ']'
        * | '(?[' ranges ']' ([-+&amp;] '[' ranges ']')? ')'
        * ranges ::= '^'? (range &lt;a href="#COMMA_OPTION"&gt;','?&lt;/a&gt;)+
        * range ::= '\d' | '\w' | '\s' | '\D' | '\W' | '\S' | category-block
        * | range-char | range-char '-' range-char
        * range-char ::= '\[' | '\]' | '\\' | '\' [,-efnrtv] | code-point | character-2
        * code-point ::= '\x' hex-char hex-char
        * | '\x{' hex-char+ '}'
        * &lt;!-- | '\u005c u' hex-char hex-char hex-char hex-char
        * --&gt; | '\v' hex-char hex-char hex-char hex-char hex-char hex-char
        * hex-char ::= [0-9a-fA-F]
        * character-2 ::= (any character except \[]-,)
        * &lt;/pre&gt;
        *
        * &lt;hr width="50%"&gt;
        * &lt;h3&gt;TODO&lt;/h3&gt;
        * &lt;ul&gt;
        * &lt;li&gt;&lt;a href="http://www.unicode.org/unicode/reports/tr18/"&gt;Unicode Regular Expression Guidelines&lt;/a&gt;
        * &lt;ul&gt;
        * &lt;li&gt;2.4 Canonical Equivalents
        * &lt;li&gt;Level 3
        * &lt;/ul&gt;
        * &lt;li&gt;Parsing performance
        * &lt;/ul&gt;
        *
        * &lt;hr width="50%"&gt;
        *
        * @xerces.internal
        *
        * @author TAMURA Kent &amp;lt;kent@trl.ibm.co.jp&amp;gt;
        * @version $Id: RegularExpression.java,v 1.10 2005/03/22 03:26:24 mrglavas Exp $
        */
    </comment>
    <class>
        <specifier>public</specifier>
        class <name>RegularExpression</name>
        <super>
            <implements>implements <name>java</name>.<name>io</name>.
                <name>Serializable</name>
            </implements>
        </super>
        <block>{

            <decl_stmt>
                <decl>
                    <type>
                        <specifier>private</specifier>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>long</name>
                    </type>
                    <name>serialVersionUID</name> =
                    <init>
                        <expr>3905241217112815923L</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>boolean</name>
                    </type>
                    <name>DEBUG</name> =
                    <init>
                        <expr>false</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <comment type="javadoc">/**
                * Compiles a token tree into an operation flow.
                */
            </comment>
            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>synchronized</specifier>
                    <name>void</name>
                </type>
                <name>compile</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>Token</name>
                            </type>
                            <name>tok</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>operations</name>
                                </name>
                                !=
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return;</return>
                        </then>
                    </if>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>numberOfClosures</name>
                            </name>
                            = 0
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>operations</name>
                            </name>
                            =
                            <call>
                                <name><name>this</name>.
                                    <name>compile</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>tok</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>null</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>false</expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Converts a token to an operation.
                */
            </comment>
            <function>
                <type>
                    <specifier>private</specifier>
                    <name>Op</name>
                </type>
                <name>compile</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>Token</name>
                            </type>
                            <name>tok</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Op</name>
                            </type>
                            <name>next</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>boolean</name>
                            </type>
                            <name>reverse</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>Op</name>
                            </type>
                            <name>ret</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <switch>switch
                        <condition>(
                            <expr>
                                <name><name>tok</name>.
                                    <name>type</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <block>{
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>DOT</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createDot</name>
                                            </name>
                                            <argument_list>()</argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name><name>ret</name>.
                                            <name>next</name>
                                        </name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>CHAR</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createChar</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name><name>tok</name>.
                                                                <name>getChar</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name><name>ret</name>.
                                            <name>next</name>
                                        </name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>ANCHOR</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createAnchor</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name><name>tok</name>.
                                                                <name>getChar</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name><name>ret</name>.
                                            <name>next</name>
                                        </name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>RANGE</name>
                                    </name>
                                </expr>
                                :
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>NRANGE</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createRange</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>tok</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name><name>ret</name>.
                                            <name>next</name>
                                        </name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>CONCAT</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <if>if
                                    <condition>(
                                        <expr>!
                                            <name>reverse</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <for>for (
                                                <init>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>i</name> =
                                                        <init>
                                                            <expr>
                                                                <call>
                                                                    <name><name>tok</name>.
                                                                        <name>size</name>
                                                                    </name>
                                                                    <argument_list>()</argument_list>
                                                                </call>
                                                                -1
                                                            </expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>i</name>
                                                        &gt;= 0
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>i</name>
                                                        --
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>ret</name>
                                                            =
                                                            <call>
                                                                <name>compile</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>i</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>ret</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>false</expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </for>
                                            }
                                        </block>
                                    </then>
                                    <else>else
                                        <block>{
                                            <for>for (
                                                <init>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>i</name> =
                                                        <init>
                                                            <expr>0</expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>i</name>
                                                        &lt;
                                                        <call>
                                                            <name><name>tok</name>.
                                                                <name>size</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>i</name>
                                                        ++
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>ret</name>
                                                            =
                                                            <call>
                                                                <name>compile</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>i</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>ret</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>true</expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </for>
                                            }
                                        </block>
                                    </else>
                                </if>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>UNION</name>
                                    </name>
                                </expr>
                                :
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name><name>Op</name>.
                                                <name>UnionOp</name>
                                            </name>
                                        </type>
                                        <name>uni</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>Op</name>.
                                                        <name>createUnion</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <call>
                                                                    <name><name>tok</name>.
                                                                        <name>size</name>
                                                                    </name>
                                                                    <argument_list>()</argument_list>
                                                                </call>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <for>for (
                                    <init>
                                        <decl>
                                            <type>
                                                <name>int</name>
                                            </type>
                                            <name>i</name> =
                                            <init>
                                                <expr>0</expr>
                                            </init>
                                        </decl>
                                        ;
                                    </init>
                                    <condition>
                                        <expr>
                                            <name>i</name>
                                            &lt;
                                            <call>
                                                <name><name>tok</name>.
                                                    <name>size</name>
                                                </name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                        ;
                                    </condition>
                                    <incr>
                                        <expr>
                                            <name>i</name>
                                            ++
                                        </expr>
                                    </incr>
                                    )
                                    <block>{
                                        <expr_stmt>
                                            <expr>
                                                <call>
                                                    <name><name>uni</name>.
                                                        <name>addElement</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <call>
                                                                    <name>compile</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name><name>tok</name>.
                                                                                        <name>getChild</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>i</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>next</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>reverse</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        }
                                    </block>
                                </for>
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <name>uni</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <comment type="line">// ret.next is null.</comment>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>CLOSURE</name>
                                    </name>
                                </expr>
                                :
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>NONGREEDYCLOSURE</name>
                                    </name>
                                </expr>
                                :
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>Token</name>
                                        </type>
                                        <name>child</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>tok</name>.
                                                        <name>getChild</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>0</expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>min</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>tok</name>.
                                                        <name>getMin</name>
                                                    </name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>max</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>tok</name>.
                                                        <name>getMax</name>
                                                    </name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>min</name>
                                            &gt;= 0 &amp;&amp; <name>min</name> ==
                                            <name>max</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <comment type="line">// {n}</comment>
                                            <expr_stmt>
                                                <expr>
                                                    <name>ret</name>
                                                    =
                                                    <name>next</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <for>for (
                                                <init>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>i</name> =
                                                        <init>
                                                            <expr>0</expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>i</name>
                                                        &lt;
                                                        <name>min</name>
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>i</name>
                                                        ++
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>ret</name>
                                                            =
                                                            <call>
                                                                <name>compile</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>child</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>ret</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>reverse</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </for>
                                            <break>break;</break>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>min</name>
                                            &gt; 0 &amp;&amp; <name>max</name> &gt; 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <expr_stmt>
                                            <expr>
                                                <name>max</name>
                                                -=
                                                <name>min</name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                    </then>
                                </if>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>max</name>
                                            &gt; 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <comment type="line">// X{2,6} -&gt; XX(X(X(XX?)?)?)?</comment>
                                            <expr_stmt>
                                                <expr>
                                                    <name>ret</name>
                                                    =
                                                    <name>next</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <for>for (
                                                <init>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>i</name> =
                                                        <init>
                                                            <expr>0</expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>i</name>
                                                        &lt;
                                                        <name>max</name>
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>i</name>
                                                        ++
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name><name>Op</name>.
                                                                    <name>ChildOp</name>
                                                                </name>
                                                            </type>
                                                            <name>q</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>Op</name>.
                                                                            <name>createQuestion</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name><name>tok</name>.
                                                                                        <name>type</name>
                                                                                    </name>
                                                                                    ==
                                                                                    <name><name>Token</name>.
                                                                                        <name>NONGREEDYCLOSURE</name>
                                                                                    </name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name><name>q</name>.
                                                                <name>next</name>
                                                            </name>
                                                            =
                                                            <name>next</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <call>
                                                                <name><name>q</name>.
                                                                    <name>setChild</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name>compile</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>child</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ret</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>reverse</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>ret</name>
                                                            =
                                                            <name>q</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </for>
                                            }
                                        </block>
                                    </then>
                                    <else>else
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name><name>Op</name>.
                                                            <name>ChildOp</name>
                                                        </name>
                                                    </type>
                                                    <name>op</name>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>tok</name>.
                                                            <name>type</name>
                                                        </name>
                                                        ==
                                                        <name><name>Token</name>.
                                                            <name>NONGREEDYCLOSURE</name>
                                                        </name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>op</name>
                                                                =
                                                                <call>
                                                                    <name><name>Op</name>.
                                                                        <name>createNonGreedyClosure</name>
                                                                    </name>
                                                                    <argument_list>()</argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <comment type="line">// Token.CLOSURE</comment>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <call>
                                                                        <name><name>child</name>.
                                                                            <name>getMinLength</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                    == 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>Op</name>.
                                                                                <name>createClosure</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>numberOfClosures
                                                                                            </name>
                                                                                        </name>
                                                                                        ++
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                            </then>
                                                            <else>else
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>Op</name>.
                                                                                <name>createClosure</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>-1</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </else>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                    =
                                                    <name>next</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>setChild</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name>compile</name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>child</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>op</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>reverse</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>ret</name>
                                                    =
                                                    <name>op</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </else>
                                </if>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>min</name>
                                            &gt; 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <for>for (
                                                <init>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>i</name> =
                                                        <init>
                                                            <expr>0</expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>i</name>
                                                        &lt;
                                                        <name>min</name>
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>i</name>
                                                        ++
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>ret</name>
                                                            =
                                                            <call>
                                                                <name>compile</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>child</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>ret</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>reverse</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </for>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>EMPTY</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>STRING</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createString</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name><name>tok</name>.
                                                                <name>getString</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name><name>ret</name>.
                                            <name>next</name>
                                        </name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>BACKREFERENCE</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createBackReference</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name><name>tok</name>.
                                                                <name>getReferenceNumber</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name><name>ret</name>.
                                            <name>next</name>
                                        </name>
                                        =
                                        <name>next</name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>PAREN</name>
                                    </name>
                                </expr>
                                :
                                <if>if
                                    <condition>(
                                        <expr>
                                            <call>
                                                <name><name>tok</name>.
                                                    <name>getParenNumber</name>
                                                </name>
                                                <argument_list>()</argument_list>
                                            </call>
                                            == 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <name>ret</name>
                                                    =
                                                    <call>
                                                        <name>compile</name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>tok</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>0</expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>next</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>reverse</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                    <else>else
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name>reverse</name>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>next</name>
                                                            =
                                                            <call>
                                                                <name><name>Op</name>.
                                                                    <name>createCapture</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getParenNumber</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>next</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>next</name>
                                                            =
                                                            <call>
                                                                <name>compile</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>0</expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>next</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>reverse</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>ret</name>
                                                            =
                                                            <call>
                                                                <name><name>Op</name>.
                                                                    <name>createCapture</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>-
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getParenNumber</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>next</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>next</name>
                                                            =
                                                            <call>
                                                                <name><name>Op</name>.
                                                                    <name>createCapture</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>-
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getParenNumber</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>next</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>next</name>
                                                            =
                                                            <call>
                                                                <name>compile</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>0</expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>next</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>reverse</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>ret</name>
                                                            =
                                                            <call>
                                                                <name><name>Op</name>.
                                                                    <name>createCapture</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>getParenNumber</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>next</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                    </else>
                                </if>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>LOOKAHEAD</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createLook</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>Op</name>.
                                                            <name>LOOKAHEAD</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>next</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name>compile</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getChild</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>0</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>null</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>false</expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>NEGATIVELOOKAHEAD</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createLook</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>Op</name>.
                                                            <name>NEGATIVELOOKAHEAD</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>next</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name>compile</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getChild</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>0</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>null</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>false</expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>LOOKBEHIND</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createLook</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>Op</name>.
                                                            <name>LOOKBEHIND</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>next</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name>compile</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getChild</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>0</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>null</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>true</expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>NEGATIVELOOKBEHIND</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createLook</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>Op</name>.
                                                            <name>NEGATIVELOOKBEHIND</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>next</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name>compile</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getChild</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>0</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>null</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>true</expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>INDEPENDENT</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createIndependent</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>next</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name>compile</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getChild</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>0</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>null</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>reverse</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>MODIFIERGROUP</name>
                                    </name>
                                </expr>
                                :
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createModifier</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>next</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name>compile</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getChild</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>0</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>null</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>reverse</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>((
                                                        <name><name>Token</name>.
                                                            <name>ModifierToken</name>
                                                        </name>
                                                        )<name>tok</name>).
                                                        <call>
                                                            <name>getOptions</name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>((
                                                        <name><name>Token</name>.
                                                            <name>ModifierToken</name>
                                                        </name>
                                                        )<name>tok</name>).
                                                        <call>
                                                            <name>getOptionsMask</name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Token</name>.
                                        <name>CONDITION</name>
                                    </name>
                                </expr>
                                :
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name><name>Token</name>.
                                                <name>ConditionToken</name>
                                            </name>
                                        </type>
                                        <name>ctok</name> =
                                        <init>
                                            <expr>(
                                                <name><name>Token</name>.
                                                    <name>ConditionToken</name>
                                                </name>
                                                )
                                                <name>tok</name>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>ref</name> =
                                        <init>
                                            <expr>
                                                <name><name>ctok</name>.
                                                    <name>refNumber</name>
                                                </name>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>Op</name>
                                        </type>
                                        <name>condition</name> =
                                        <init>
                                            <expr>
                                                <name><name>ctok</name>.
                                                    <name>condition</name>
                                                </name>
                                                == <name>null</name> ? <name>null</name> :
                                                <call>
                                                    <name>compile</name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name><name>ctok</name>.
                                                                    <name>condition</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>null</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>reverse</name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>Op</name>
                                        </type>
                                        <name>yes</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name>compile</name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name><name>ctok</name>.
                                                                    <name>yes</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>next</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>reverse</name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>Op</name>
                                        </type>
                                        <name>no</name> =
                                        <init>
                                            <expr>
                                                <name><name>ctok</name>.
                                                    <name>no</name>
                                                </name>
                                                == <name>null</name> ? <name>null</name> :
                                                <call>
                                                    <name>compile</name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name><name>ctok</name>.
                                                                    <name>no</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>next</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name>reverse</name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name>ret</name>
                                        =
                                        <call>
                                            <name><name>Op</name>.
                                                <name>createCondition</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>next</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>ref</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>condition</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>yes</name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>no</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <break>break;</break>

                            </case>
                            <default>default:
                                <throw>throw
                                    <expr>new
                                        <call>
                                            <name>RuntimeException</name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>"Unknown token type: "+
                                                        <name><name>tok</name>.
                                                            <name>type</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </throw>
                            </default>
                            }
                        </block>
                    </switch>
                    <comment type="line">// switch (tok.type)</comment>
                    <return>return
                        <expr>
                            <name>ret</name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>


            <comment type="line">//Public</comment>

            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern or not.
                *
                * @return true if the target is matched to this regular expression.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>matches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>target</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>0</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>
                                                <name>target</name>
                                                .
                                                <name>length</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>(<name>Match</name>)
                                            <name>null</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern
                * in specified range or not.
                *
                * @param start Start offset of the range.
                * @param end End offset +1 of the range.
                * @return true if the target is matched to this regular expression.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>start</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>matches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>target</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>start</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>end</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>(<name>Match</name>)
                                            <name>null</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern or not.
                *
                * @param match A Match instance for storing matching result.
                * @return Offset of the start position in &lt;VAR&gt;target&lt;/VAR&gt;; or -1 if not match.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Match</name>
                            </type>
                            <name>match</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>matches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>target</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>0</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>
                                                <name>target</name>
                                                .
                                                <name>length</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>match</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>


            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern
                * in specified range or not.
                *
                * @param start Start offset of the range.
                * @param end End offset +1 of the range.
                * @param match A Match instance for storing matching result.
                * @return Offset of the start position in &lt;VAR&gt;target&lt;/VAR&gt;; or -1 if not match.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>start</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Match</name>
                            </type>
                            <name>match</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{

                    <synchronized>synchronized (
                        <expr>
                            <name>this</name>
                        </expr>
                        )
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>operations</name>
                                        </name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <expr_stmt>
                                        <expr>
                                            <call>
                                                <name><name>this</name>.
                                                    <name>prepare</name>
                                                </name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>context</name>
                                        </name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <expr_stmt>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>context</name>
                                            </name>
                                            = new
                                            <call>
                                                <name>Context</name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                </then>
                            </if>
                            }
                        </block>
                    </synchronized>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>Context</name>
                            </type>
                            <name>con</name> =
                            <init>
                                <expr>
                                    <name>null</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <synchronized>synchronized (
                        <expr>
                            <name><name>this</name>.
                                <name>context</name>
                            </name>
                        </expr>
                        )
                        <block>{
                            <expr_stmt>
                                <expr>
                                    <name>con</name>
                                    =
                                    <name><name>this</name>.<name>context</name>.
                                        <name>inuse</name>
                                    </name>
                                    ? new
                                    <call>
                                        <name>Context</name>
                                        <argument_list>()</argument_list>
                                    </call>
                                    :
                                    <name><name>this</name>.
                                        <name>context</name>
                                    </name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <call>
                                        <name><name>con</name>.
                                            <name>reset</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>target</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>start</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>end</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name><name>this</name>.
                                                        <name>numberOfClosures</name>
                                                    </name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                                ;
                            </expr_stmt>
                            }
                        </block>
                    </synchronized>
                    <if>if
                        <condition>(
                            <expr>
                                <name>match</name>
                                !=
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <expr_stmt>
                                    <expr>
                                        <call>
                                            <name><name>match</name>.
                                                <name>setNumberOfGroups</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>nofparen</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <call>
                                            <name><name>match</name>.
                                                <name>setSource</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>target</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                }
                            </block>
                        </then>
                        <else>else
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>hasBackReferences</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <block>{
                                        <expr_stmt>
                                            <expr>
                                                <name>match</name>
                                                = new
                                                <call>
                                                    <name>Match</name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <expr_stmt>
                                            <expr>
                                                <call>
                                                    <name><name>match</name>.
                                                        <name>setNumberOfGroups</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>nofparen</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <comment type="line">// Need not to call setSource() because</comment>
                                        <comment type="line">// a caller can not access this match instance.</comment>
                                        }
                                    </block>
                                </then>
                            </if>
                        </else>
                    </if>
                    <expr_stmt>
                        <expr>
                            <name><name>con</name>.
                                <name>match</name>
                            </name>
                            =
                            <name>match</name>
                        </expr>
                        ;
                    </expr_stmt>

                    <if>if
                        <condition>(
                            <expr>
                                <call>
                                    <name><name>RegularExpression</name>.
                                        <name>isSet</name>
                                    </name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>options</name>
                                                </name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>XMLSCHEMA_MODE</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>matchEnd</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.
                                                        <name>matchCharArray</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>con</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>operations</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>1</expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>options</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <comment type="line">//System.err.println("DEBUG: matchEnd="+matchEnd);</comment>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>matchEnd</name>
                                            ==
                                            <name><name>con</name>.
                                                <name>limit</name>
                                            </name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>con</name>.
                                                            <name>match</name>
                                                        </name>
                                                        !=
                                                        <name>null</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>matchEnd</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>true</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </then>
                    </if>

                    <comment type="block">/*
                        * The pattern has only fixed string.
                        * The engine uses Boyer-Moore.
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>fixedStringOnly</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <comment type="line">//System.err.println("DEBUG: fixed-only: "+this.fixedString);
                                </comment>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>o</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>fixedStringTable</name>.
                                                        <name>matches</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>target</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>o</name>
                                            &gt;= 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>con</name>.
                                                            <name>match</name>
                                                        </name>
                                                        !=
                                                        <name>null</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>o</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr><name>o</name>+
                                                                                <call>
                                                                                    <name><name>this</name>.<name>
                                                                                        fixedString</name>.
                                                                                        <name>length</name>
                                                                                    </name>
                                                                                    <argument_list>()</argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>true</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </then>
                    </if>

                    <comment type="block">/*
                        * The pattern contains a fixed string.
                        * The engine checks with Boyer-Moore whether the text contains the fixed string or not.
                        * If not, it return with false.
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>fixedString</name>
                                </name>
                                !=
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>o</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>fixedStringTable</name>.
                                                        <name>matches</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>target</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>o</name>
                                            &lt; 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <comment type="line">//System.err.println("Non-match in fixed-string
                                                search.");
                                            </comment>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>false</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                }
                            </block>
                        </then>
                    </if>

                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name> =
                            <init>
                                <expr>
                                    <name><name>con</name>.
                                        <name>limit</name>
                                    </name>
                                    -
                                    <name><name>this</name>.
                                        <name>minlength</name>
                                    </name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>matchStart</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>matchEnd</name> =
                            <init>
                                <expr>-1</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>

                    <comment type="block">/*
                        * Checks whether the expression starts with ".*".
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>operations</name>
                                </name>
                                !=
                                <name>null</name>
                                &amp;&amp;
                                <name><name>this</name>.<name>operations</name>.
                                    <name>type</name>
                                </name>
                                ==
                                <name><name>Op</name>.
                                    <name>CLOSURE</name>
                                </name>
                                &amp;&amp;
                                <call>
                                    <name><name>this</name>.<name>operations</name>.
                                        <name>getChild</name>
                                    </name>
                                    <argument_list>()</argument_list>
                                </call>
                                .<name>type</name> ==
                                <name><name>Op</name>.
                                    <name>DOT</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <call>
                                                <name>isSet</name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name><name>this</name>.
                                                                <name>options</name>
                                                            </name>
                                                        </expr>
                                                    </argument>
                                                    ,
                                                    <argument>
                                                        <expr>
                                                            <name>SINGLE_LINE</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <name>matchStart</name>
                                                    =
                                                    <name><name>con</name>.
                                                        <name>start</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>matchEnd</name>
                                                    =
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharArray</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>operations</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>con</name>.
                                                                        <name>start</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>options</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                    <else>else
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>boolean</name>
                                                    </type>
                                                    <name>previousIsEOL</name> =
                                                    <init>
                                                        <expr>true</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <for>for (
                                                <init>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        =
                                                        <name><name>con</name>.
                                                            <name>start</name>
                                                        </name>
                                                    </expr>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        &lt;=
                                                        <name>limit</name>
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        ++
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <name>
                                                                        <name>target</name>
                                                                        <index>[
                                                                            <expr>
                                                                                <name>matchStart</name>
                                                                            </expr>
                                                                            ]
                                                                        </index>
                                                                    </name>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>previousIsEOL</name>
                                                                        = true
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>previousIsEOL</name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                                        <call>
                                                                                            <name><name>this</name>.
                                                                                                <name>matchCharArray
                                                                                                </name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>con</name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name><name>
                                                                                                            this</name>.
                                                                                                            <name>
                                                                                                                operations
                                                                                                            </name>
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>
                                                                                                            matchStart
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>1</expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name><name>
                                                                                                            this</name>.
                                                                                                            <name>
                                                                                                                options
                                                                                                            </name>
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        )
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <break>break;</break>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>previousIsEOL</name>
                                                                        = false
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </for>
                                            }
                                        </block>
                                    </else>
                                </if>
                                }
                            </block>
                        </then>

                        <comment type="block">/*
                            * Optimization against the first character.
                            */
                        </comment>
                        <else>else
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>firstChar</name>
                                        </name>
                                        !=
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <block>{
                                        <comment type="line">//System.err.println("DEBUG: with firstchar-matching:
                                            "+this.firstChar);
                                        </comment>
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>RangeToken</name>
                                                </type>
                                                <name>range</name> =
                                                <init>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>firstChar</name>
                                                        </name>
                                                    </expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name><name>RegularExpression</name>.
                                                            <name>isSet</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>options</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>IGNORE_CASE</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>range</name>
                                                            =
                                                            <call>
                                                                <name><name>this</name>.<name>firstChar</name>.
                                                                    <name>getCaseInsensitiveToken</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <for>for (
                                                        <init>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                =
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </init>
                                                        <condition>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                &lt;=
                                                                <name>limit</name>
                                                            </expr>
                                                            ;
                                                        </condition>
                                                        <incr>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                ++
                                                            </expr>
                                                        </incr>
                                                        )
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ch</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <name>
                                                                                <name>target</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>REUtil</name>.
                                                                                <name>isHighSurrogate</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        &amp;&amp; <name>matchStart</name>+1 &lt;
                                                                        <name><name>con</name>.
                                                                            <name>limit</name>
                                                                        </name>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <block>{
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    <index>[
                                                                                                        <expr><name>
                                                                                                            matchStart</name>
                                                                                                            +1
                                                                                                        </expr>
                                                                                                        ]
                                                                                                    </index>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                        <if>if
                                                                            <condition>(
                                                                                <expr>!
                                                                                    <call>
                                                                                        <name><name>range</name>.
                                                                                            <name>match</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>
                                                                                                    <name>ch</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                                )
                                                                            </condition>
                                                                            <then>
                                                                                <continue>continue;</continue>
                                                                            </then>
                                                                        </if>
                                                                        }
                                                                    </block>
                                                                </then>
                                                                <else>else
                                                                    <block>{
                                                                        <if>if
                                                                            <condition>(
                                                                                <expr>!
                                                                                    <call>
                                                                                        <name><name>range</name>.
                                                                                            <name>match</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>
                                                                                                    <name>ch</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                                )
                                                                            </condition>
                                                                            <then>
                                                                                <block>{
                                                                                    <decl_stmt>
                                                                                        <decl>
                                                                                            <type>
                                                                                                <name>char</name>
                                                                                            </type>
                                                                                            <name>ch1</name> =
                                                                                            <init>
                                                                                                <expr>
                                                                                                    <call>
                                                                                                        <name><name>
                                                                                                            Character</name>
                                                                                                            .
                                                                                                            <name>
                                                                                                                toUpperCase
                                                                                                            </name>
                                                                                                        </name>
                                                                                                        <argument_list>(
                                                                                                            <argument>
                                                                                                                <expr>
                                                                                                                    (<name>
                                                                                                                    char</name>)
                                                                                                                    <name>
                                                                                                                        ch
                                                                                                                    </name>
                                                                                                                </expr>
                                                                                                            </argument>
                                                                                                            )
                                                                                                        </argument_list>
                                                                                                    </call>
                                                                                                </expr>
                                                                                            </init>
                                                                                        </decl>
                                                                                        ;
                                                                                    </decl_stmt>
                                                                                    <if>if
                                                                                        <condition>(
                                                                                            <expr>!
                                                                                                <call>
                                                                                                    <name><name>
                                                                                                        range</name>.
                                                                                                        <name>match
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr>
                                                                                                                <name>
                                                                                                                    ch1
                                                                                                                </name>
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                            )
                                                                                        </condition>
                                                                                        <then>
                                                                                            <if>if
                                                                                                <condition>(
                                                                                                    <expr>!
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                range</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    match
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <call>
                                                                                                                            <name>
                                                                                                                                <name>
                                                                                                                                    Character</name>
                                                                                                                                .
                                                                                                                                <name>
                                                                                                                                    toLowerCase
                                                                                                                                </name>
                                                                                                                            </name>
                                                                                                                            <argument_list>
                                                                                                                                (
                                                                                                                                <argument>
                                                                                                                                    <expr>
                                                                                                                                        <name>
                                                                                                                                            ch1
                                                                                                                                        </name>
                                                                                                                                    </expr>
                                                                                                                                </argument>
                                                                                                                                )
                                                                                                                            </argument_list>
                                                                                                                        </call>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                    )
                                                                                                </condition>
                                                                                                <then>
                                                                                                    <continue>
                                                                                                        continue;
                                                                                                    </continue>
                                                                                                </then>
                                                                                            </if>
                                                                                        </then>
                                                                                    </if>
                                                                                    }
                                                                                </block>
                                                                            </then>
                                                                        </if>
                                                                        }
                                                                    </block>
                                                                </else>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                        <call>
                                                                            <name><name>this</name>.
                                                                                <name>matchCharArray</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>con</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>operations</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>1</expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>options</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        )
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <break>break;</break>
                                                                </then>
                                                            </if>
                                                            }
                                                        </block>
                                                    </for>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <for>for (
                                                        <init>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                =
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </init>
                                                        <condition>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                &lt;=
                                                                <name>limit</name>
                                                            </expr>
                                                            ;
                                                        </condition>
                                                        <incr>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                ++
                                                            </expr>
                                                        </incr>
                                                        )
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ch</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <name>
                                                                                <name>target</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>REUtil</name>.
                                                                                <name>isHighSurrogate</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        &amp;&amp; <name>matchStart</name>+1 &lt;
                                                                        <name><name>con</name>.
                                                                            <name>limit</name>
                                                                        </name>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>ch</name>
                                                                            =
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>composeFromSurrogates</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>
                                                                                                <name>target</name>
                                                                                                <index>[
                                                                                                    <expr><name>
                                                                                                        matchStart</name>
                                                                                                        +1
                                                                                                    </expr>
                                                                                                    ]
                                                                                                </index>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                </then>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>!
                                                                        <call>
                                                                            <name><name>range</name>.
                                                                                <name>match</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <continue>continue;</continue>
                                                                </then>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                        <call>
                                                                            <name><name>this</name>.
                                                                                <name>matchCharArray</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>con</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>operations</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>1</expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>options</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        )
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <break>break;</break>
                                                                </then>
                                                            </if>
                                                            }
                                                        </block>
                                                    </for>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        }
                                    </block>
                                </then>

                                <comment type="block">/*
                                    * Straightforward matching.
                                    */
                                </comment>
                                <else>else
                                    <block>{
                                        <for>for (
                                            <init>
                                                <expr>
                                                    <name>matchStart</name>
                                                    =
                                                    <name><name>con</name>.
                                                        <name>start</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </init>
                                            <condition>
                                                <expr>
                                                    <name>matchStart</name>
                                                    &lt;=
                                                    <name>limit</name>
                                                </expr>
                                                ;
                                            </condition>
                                            <incr>
                                                <expr>
                                                    <name>matchStart</name>
                                                    ++
                                                </expr>
                                            </incr>
                                            )
                                            <block>{
                                                <if>if
                                                    <condition>(
                                                        <expr>0 &lt;= (<name>matchEnd</name> =
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharArray</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>this</name>.
                                                                                <name>operations</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>matchStart</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>1</expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>this</name>.
                                                                                <name>options</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                            )
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <break>break;</break>
                                                    </then>
                                                </if>
                                                }
                                            </block>
                                        </for>
                                        }
                                    </block>
                                </else>
                            </if>
                        </else>
                    </if>

                    <if>if
                        <condition>(
                            <expr>
                                <name>matchEnd</name>
                                &gt;= 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name><name>con</name>.
                                                <name>match</name>
                                            </name>
                                            !=
                                            <name>null</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>con</name>.<name>match</name>.
                                                            <name>setBeginning</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>0</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>matchStart</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>con</name>.<name>match</name>.
                                                            <name>setEnd</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>0</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>matchEnd</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>true</expr>;
                                </return>
                                }
                            </block>
                        </then>
                        <else>else
                            <block>{
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </else>
                    </if>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * @return -1 when not match; offset of the end of matched string when match.
                */
            </comment>
            <function>
                <type>
                    <specifier>private</specifier>
                    <name>int</name>
                </type>
                <name>matchCharArray</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>Context</name>
                            </type>
                            <name>con</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Op</name>
                            </type>
                            <name>op</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>dx</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{

                    <decl_stmt>
                        <decl>
                            <type>
                                <name>char</name>
                                <index>[]</index>
                            </type>
                            <name>target</name> =
                            <init>
                                <expr>
                                    <name><name>con</name>.
                                        <name>charTarget</name>
                                    </name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>


                    <while>while
                        <condition>(<expr>true</expr>)
                        </condition>
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>op</name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return
                                        <expr>
                                            <call>
                                                <name>isSet</name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>opts</name>
                                                        </expr>
                                                    </argument>
                                                    ,
                                                    <argument>
                                                        <expr>
                                                            <name>XMLSCHEMA_MODE</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                            &amp;&amp; <name>offset</name> !=
                                            <name><name>con</name>.
                                                <name>limit</name>
                                            </name>
                                            ? -1 :
                                            <name>offset</name>
                                        </expr>
                                        ;
                                    </return>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>offset</name>
                                        &gt;
                                        <name><name>con</name>.
                                            <name>limit</name>
                                        </name>
                                        || <name>offset</name> &lt;
                                        <name><name>con</name>.
                                            <name>start</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>-1</expr>;
                                    </return>
                                </then>
                            </if>
                            <switch>switch
                                <condition>(
                                    <expr>
                                        <name><name>op</name>.
                                            <name>type</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <block>{
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CHAR</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name>isSet</name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>IGNORE_CASE</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getData</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>dx</name>
                                                                &gt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || !
                                                                            <call>
                                                                                <name>matchIgnoreCase</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>
                                                                                                <name>target</name>
                                                                                                <index>[
                                                                                                    <expr>
                                                                                                        <name>offset
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                    ]
                                                                                                </index>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        ++
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>o1</name> =
                                                                        <init>
                                                                            <expr><name>offset</name>-1
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>o1</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>o1</name> &lt; 0 || !
                                                                            <call>
                                                                                <name>matchIgnoreCase</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>
                                                                                                <name>target</name>
                                                                                                <index>[
                                                                                                    <expr>
                                                                                                        <name>o1</name>
                                                                                                    </expr>
                                                                                                    ]
                                                                                                </index>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        =
                                                                        <name>o1</name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getData</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>dx</name>
                                                                &gt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>ch</name> !=
                                                                            <name>
                                                                                <name>target</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        ++
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>o1</name> =
                                                                        <init>
                                                                            <expr><name>offset</name>-1
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>o1</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>o1</name> &lt; 0 || <name>ch</name> !=
                                                                            <name>
                                                                                <name>target</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>o1</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        =
                                                                        <name>o1</name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>DOT</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name>dx</name>
                                                    &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <name>
                                                                        <name>target</name>
                                                                        <index>[
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                            ]
                                                                        </index>
                                                                    </name>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>SINGLE_LINE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isHighSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>offset</name>+1 &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                                ++
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isHighSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>offset</name>+1 &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    <index>[
                                                                                                        <expr>++
                                                                                                            <name>
                                                                                                                offset
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                        ]
                                                                                                    </index>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            ++
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>o1</name> =
                                                            <init>
                                                                <expr><name>offset</name>-1
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>o1</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>o1</name> &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <name>
                                                                        <name>target</name>
                                                                        <index>[
                                                                            <expr>
                                                                                <name>o1</name>
                                                                            </expr>
                                                                            ]
                                                                        </index>
                                                                    </name>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>SINGLE_LINE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isLowSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>o1</name>
                                                                                --
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isLowSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    <index>[
                                                                                                        <expr>--
                                                                                                            <name>o1
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                        ]
                                                                                                    </index>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            =
                                                            <name>o1</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>RANGE</name>
                                            </name>
                                        </expr>
                                        :
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NRANGE</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name>dx</name>
                                                    &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <name>
                                                                        <name>target</name>
                                                                        <index>[
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                            ]
                                                                        </index>
                                                                    </name>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name><name>REUtil</name>.
                                                                        <name>isHighSurrogate</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &amp;&amp; <name>offset</name>+1 &lt;
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>ch</name>
                                                                    =
                                                                    <call>
                                                                        <name><name>REUtil</name>.
                                                                            <name>composeFromSurrogates</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>ch</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>
                                                                                        <name>target</name>
                                                                                        <index>[
                                                                                            <expr>++
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                            ]
                                                                                        </index>
                                                                                    </name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>RangeToken</name>
                                                            </type>
                                                            <name>tok</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getToken</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>IGNORE_CASE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>tok</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getCaseInsensitiveToken</name>
                                                                            </name>
                                                                            <argument_list>()</argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                        &gt;= 0x10000
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            <decl_stmt>
                                                                                <decl>
                                                                                    <type>
                                                                                        <name>char</name>
                                                                                    </type>
                                                                                    <name>uch</name>
                                                                                </decl>
                                                                                ;
                                                                            </decl_stmt>
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>!
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>uch</name>
                                                                                                        =
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toUpperCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        (<name>
                                                                                                                        char</name>)
                                                                                                                        <name>
                                                                                                                            ch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        &amp;&amp; !
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toLowerCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <name>
                                                                                                                            uch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            ++
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>o1</name> =
                                                            <init>
                                                                <expr><name>offset</name>-1
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>o1</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>o1</name> &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <name>
                                                                        <name>target</name>
                                                                        <index>[
                                                                            <expr>
                                                                                <name>o1</name>
                                                                            </expr>
                                                                            ]
                                                                        </index>
                                                                    </name>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name><name>REUtil</name>.
                                                                        <name>isLowSurrogate</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>ch</name>
                                                                    =
                                                                    <call>
                                                                        <name><name>REUtil</name>.
                                                                            <name>composeFromSurrogates</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>
                                                                                        <name>target</name>
                                                                                        <index>[
                                                                                            <expr>--
                                                                                                <name>o1</name>
                                                                                            </expr>
                                                                                            ]
                                                                                        </index>
                                                                                    </name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>ch</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>RangeToken</name>
                                                            </type>
                                                            <name>tok</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getToken</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>IGNORE_CASE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>tok</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getCaseInsensitiveToken</name>
                                                                            </name>
                                                                            <argument_list>()</argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                        &gt;= 0x10000
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            <decl_stmt>
                                                                                <decl>
                                                                                    <type>
                                                                                        <name>char</name>
                                                                                    </type>
                                                                                    <name>uch</name>
                                                                                </decl>
                                                                                ;
                                                                            </decl_stmt>
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>!
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>uch</name>
                                                                                                        =
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toUpperCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        (<name>
                                                                                                                        char</name>)
                                                                                                                        <name>
                                                                                                                            ch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        &amp;&amp; !
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toLowerCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <name>
                                                                                                                            uch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            =
                                                            <name>o1</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>ANCHOR</name>
                                            </name>
                                        </expr>
                                        :
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>boolean</name>
                                                </type>
                                                <name>go</name> =
                                                <init>
                                                    <expr>false</expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <switch>switch
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <block>{
                                                <case>case <expr>'^'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>MULTIPLE_LINES</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                            || <name>offset</name> &gt;
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>
                                                                                                <name>target</name>
                                                                                                <index>[
                                                                                                    <expr><name>
                                                                                                        offset</name>-1
                                                                                                    </expr>
                                                                                                    ]
                                                                                                </index>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            )
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            !=
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'@'</expr>:
                                                    <comment type="line">// Internal use only.</comment>
                                                    <comment type="line">// The @ always matches line beginnings.
                                                    </comment>
                                                    <if>if
                                                        <condition>(
                                                            <expr>!(<name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                                || <name>offset</name> &gt;
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    <index>[
                                                                                        <expr><name>offset</name>-1
                                                                                        </expr>
                                                                                        ]
                                                                                    </index>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                )
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'$'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>MULTIPLE_LINES</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>offset</name> &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>
                                                                                                <name>target</name>
                                                                                                <index>[
                                                                                                    <expr>
                                                                                                        <name>offset
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                    ]
                                                                                                </index>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            )
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>offset</name>+1 ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>
                                                                                                <name>target</name>
                                                                                                <index>[
                                                                                                    <expr>
                                                                                                        <name>offset
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                    ]
                                                                                                </index>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            || <name>offset</name>+2 ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <name>
                                                                                <name>target</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            ==
                                                                            <name>CARRIAGE_RETURN</name>
                                                                            &amp;&amp;
                                                                            <name>
                                                                                <name>target</name>
                                                                                <index>[
                                                                                    <expr><name>offset</name>+1
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            == <name>LINE_FEED</name>)
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'A'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                !=
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'Z'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>!(<name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>offset</name>+1 ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    <index>[
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                        ]
                                                                                    </index>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                || <name>offset</name>+2 ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <name>
                                                                    <name>target</name>
                                                                    <index>[
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                        ]
                                                                    </index>
                                                                </name>
                                                                ==
                                                                <name>CARRIAGE_RETURN</name>
                                                                &amp;&amp;
                                                                <name>
                                                                    <name>target</name>
                                                                    <index>[
                                                                        <expr><name>offset</name>+1
                                                                        </expr>
                                                                        ]
                                                                    </index>
                                                                </name>
                                                                == <name>LINE_FEED</name>)
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'z'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                !=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'b'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <block>{
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>after</name> =
                                                                <init>
                                                                    <expr>
                                                                        <call>
                                                                            <name>getWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>after</name>
                                                                    ==
                                                                    <name>WT_IGNORE</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <return>return <expr>-1</expr>;
                                                                </return>
                                                            </then>
                                                        </if>
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>before</name> =
                                                                <init>
                                                                    <expr>
                                                                        <call>
                                                                            <name>getPreviousWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>after</name>
                                                                    ==
                                                                    <name>before</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <return>return <expr>-1</expr>;
                                                                </return>
                                                            </then>
                                                        </if>
                                                        }
                                                    </block>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'B'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>go</name>
                                                                    = true
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>after</name> =
                                                                        <init>
                                                                            <expr>
                                                                                <call>
                                                                                    <name>getWordType</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>start</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>opts</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>go</name>
                                                                        = <name>after</name> ==
                                                                        <name>WT_IGNORE</name>
                                                                        || <name>after</name> ==
                                                                        <call>
                                                                            <name>getPreviousWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>!
                                                                <name>go</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'&lt;'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0 || <name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>getWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_LETTER</name>
                                                                ||
                                                                <call>
                                                                    <name>getPreviousWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_OTHER</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'&gt;'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0 || <name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>getWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_OTHER</name>
                                                                ||
                                                                <call>
                                                                    <name>getPreviousWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_LETTER</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>
                                                </case>
                                                }
                                            </block>
                                        </switch>
                                        <comment type="line">// switch anchor type</comment>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>BACKREFERENCE</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>refno</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getData</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>refno</name>
                                                        &lt;= 0 || <name>refno</name> &gt;=
                                                        <name><name>this</name>.
                                                            <name>nofparen</name>
                                                        </name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <throw>throw
                                                        <expr>new
                                                            <call>
                                                                <name>RuntimeException</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>"Internal Error: Reference number must be
                                                                            more than zero: "+
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </throw>
                                                </then>
                                            </if>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <call>
                                                            <name><name>con</name>.<name>match</name>.
                                                                <name>getBeginning</name>
                                                            </name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>refno</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                        &lt; 0
                                                        ||
                                                        <call>
                                                            <name><name>con</name>.<name>match</name>.
                                                                <name>getEnd</name>
                                                            </name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>refno</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return <expr>-1</expr>;
                                                    </return>
                                                </then>
                                            </if>
                                            <comment type="line">// ********</comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>o2</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>getBeginning</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>literallen</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>getEnd</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                            -
                                                            <name>o2</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>!
                                                        <call>
                                                            <name>isSet</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>opts</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>IGNORE_CASE</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>STRING</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>String</name>
                                                    </type>
                                                    <name>literal</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getString</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>literallen</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>literal</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>!
                                                        <call>
                                                            <name>isSet</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>opts</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>IGNORE_CASE</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CLOSURE</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <comment type="block">/*
                                                * Saves current position to avoid
                                                * zero-width repeats.
                                                */
                                            </comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>id</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getData</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>id</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>previousOffset</name> =
                                                                <init>
                                                                    <expr>
                                                                        <name><name>con</name>.
                                                                            <name>offsets</name>
                                                                            <index>[
                                                                                <expr>
                                                                                    <name>id</name>
                                                                                </expr>
                                                                                ]
                                                                            </index>
                                                                        </name>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>previousOffset</name>
                                                                    &lt; 0 || <name>previousOffset</name> !=
                                                                    <name>offset</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name><name>con</name>.
                                                                                <name>offsets</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>id</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            =
                                                                            <name>offset</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name><name>con</name>.
                                                                                <name>offsets</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>id</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            = -1
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>op</name>
                                                                            =
                                                                            <name><name>op</name>.
                                                                                <name>next</name>
                                                                            </name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    <break>break;</break>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                            </if>

                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharArray</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>id</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name><name>con</name>.
                                                                <name>offsets</name>
                                                                <index>[
                                                                    <expr>
                                                                        <name>id</name>
                                                                    </expr>
                                                                    ]
                                                                </index>
                                                            </name>
                                                            = -1
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                </then>
                                            </if>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>QUESTION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharArray</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NONGREEDYCLOSURE</name>
                                            </name>
                                        </expr>
                                        :
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NONGREEDYQUESTION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharArray</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>op</name>.
                                                                                <name>next</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getChild</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>UNION</name>
                                            </name>
                                        </expr>
                                        :
                                        <for>for (
                                            <init>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>i</name> =
                                                    <init>
                                                        <expr>0</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </init>
                                            <condition>
                                                <expr>
                                                    <name>i</name>
                                                    &lt;
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>size</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </condition>
                                            <incr>
                                                <expr>
                                                    <name>i</name>
                                                    ++
                                                </expr>
                                            </incr>
                                            )
                                            <block>{
                                                <decl_stmt>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>ret</name> =
                                                        <init>
                                                            <expr>
                                                                <call>
                                                                    <name><name>this</name>.
                                                                        <name>matchCharArray</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>con</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name><name>op</name>.
                                                                                        <name>elementAt</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>i</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>dx</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </decl_stmt>
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name>DEBUG</name>
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <block>{
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>System</name>.<name>err</name>.
                                                                            <name>println</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>"UNION: "+<name>i</name>+", ret="+
                                                                                    <name>ret</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                            }
                                                        </block>
                                                    </then>
                                                </if>
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name>ret</name>
                                                            &gt;= 0
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <return>return
                                                            <expr>
                                                                <name>ret</name>
                                                            </expr>
                                                            ;
                                                        </return>
                                                    </then>
                                                </if>
                                                }
                                            </block>
                                        </for>
                                        <return>return <expr>-1</expr>;
                                        </return>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CAPTURE</name>
                                            </name>
                                        </expr>
                                        :
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>int</name>
                                                </type>
                                                <name>refno</name> =
                                                <init>
                                                    <expr>
                                                        <call>
                                                            <name><name>op</name>.
                                                                <name>getData</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>match</name>
                                                    </name>
                                                    != <name>null</name> &amp;&amp; <name>refno</name> &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>save</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>getBeginning</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>refno</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>setBeginning</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ret</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>this</name>.
                                                                            <name>matchCharArray</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>con</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name><name>op</name>.
                                                                                        <name>next</name>
                                                                                    </name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>dx</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>opts</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>ret</name>
                                                                &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>setBeginning</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>refno</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>save</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name><name>con</name>.
                                                                <name>match</name>
                                                            </name>
                                                            != <name>null</name> &amp;&amp; <name>refno</name> &lt; 0
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>index</name> =
                                                                    <init>
                                                                        <expr>-
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>save</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>con</name>.<name>
                                                                                    match</name>.
                                                                                    <name>getEnd</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>index</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>setEnd</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>index</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ret</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>this</name>.
                                                                                    <name>matchCharArray</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>con</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name><name>op</name>.
                                                                                                <name>next</name>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>dx</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>opts</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <name>ret</name>
                                                                        &lt; 0
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>con</name>.<name>
                                                                                    match</name>.
                                                                                    <name>setEnd</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>index</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>save</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                </then>
                                                            </if>
                                                            <return>return
                                                                <expr>
                                                                    <name>ret</name>
                                                                </expr>
                                                                ;
                                                            </return>
                                                            }
                                                        </block>
                                                    </then>
                                                </if>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>LOOKAHEAD</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &gt;
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharArray</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NEGATIVELOOKAHEAD</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &lt;=
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharArray</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>LOOKBEHIND</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &gt;
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharArray</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>-1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NEGATIVELOOKBEHIND</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &lt;=
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharArray</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>-1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>INDEPENDENT</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharArray</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>offset</name>
                                                    =
                                                    <name>ret</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>MODIFIER</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>localopts</name> =
                                                    <init>
                                                        <expr>
                                                            <name>opts</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>localopts</name>
                                                    |=
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>localopts</name>
                                                    &amp;= ~
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData2</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <comment type="line">//System.err.println("MODIFIER:
                                                "+Integer.toString(opts, 16)+" -&gt; "+Integer.toString(localopts, 16));
                                            </comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharArray</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>localopts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>offset</name>
                                                    =
                                                    <name>ret</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CONDITION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name><name>Op</name>.
                                                            <name>ConditionOp</name>
                                                        </name>
                                                    </type>
                                                    <name>cop</name> =
                                                    <init>
                                                        <expr>(
                                                            <name><name>Op</name>.
                                                                <name>ConditionOp</name>
                                                            </name>
                                                            )
                                                            <name>op</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>boolean</name>
                                                    </type>
                                                    <name>matchp</name> =
                                                    <init>
                                                        <expr>false</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>cop</name>.
                                                            <name>refNumber</name>
                                                        </name>
                                                        &gt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name><name>cop</name>.
                                                                        <name>refNumber</name>
                                                                    </name>
                                                                    &gt;=
                                                                    <name><name>this</name>.
                                                                        <name>nofparen</name>
                                                                    </name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <throw>throw
                                                                    <expr>new
                                                                        <call>
                                                                            <name>RuntimeException</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>"Internal Error: Reference
                                                                                        number must be more than zero:
                                                                                        "+
                                                                                        <name><name>cop</name>.
                                                                                            <name>refNumber</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </throw>
                                                            </then>
                                                        </if>
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>matchp</name>
                                                                =
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>getBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>refNumber</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &gt;= 0
                                                                &amp;&amp;
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>getEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>refNumber</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &gt;= 0
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>matchp</name>
                                                                = 0 &lt;=
                                                                <call>
                                                                    <name><name>this</name>.
                                                                        <name>matchCharArray</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>con</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>condition</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>dx</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </else>
                                            </if>

                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>matchp</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>op</name>
                                                                =
                                                                <name><name>cop</name>.
                                                                    <name>yes</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>cop</name>.
                                                                    <name>no</name>
                                                                </name>
                                                                !=
                                                                <name>null</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <name><name>cop</name>.
                                                                            <name>no</name>
                                                                        </name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <name><name>cop</name>.
                                                                            <name>next</name>
                                                                        </name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <default>default:
                                        <throw>throw
                                            <expr>new
                                                <call>
                                                    <name>RuntimeException</name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>"Unknown operation type: "+
                                                                <name><name>op</name>.
                                                                    <name>type</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </throw>
                                    </default>
                                    }
                                </block>
                            </switch>
                            <comment type="line">// switch (op.type)</comment>
                            }
                        </block>
                    </while>
                    <comment type="line">// while</comment>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>int</name>
                </type>
                <name>getPreviousWordType</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>begin</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>ret</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name>getWordType</name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>target</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>begin</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>end</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>--
                                                    <name>offset</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>opts</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr>
                                <name>ret</name>
                                ==
                                <name>WT_IGNORE</name>
                            </expr>
                            )
                        </condition>
                        <expr_stmt>
                            <expr>
                                <name>ret</name>
                                =
                                <call>
                                    <name>getWordType</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>target</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>begin</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>end</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>--
                                                <name>offset</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>opts</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            ;
                        </expr_stmt>
                    </while>
                    <return>return
                        <expr>
                            <name>ret</name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>int</name>
                </type>
                <name>getWordType</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>begin</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; <name>begin</name> || <name>offset</name> &gt;=
                                <name>end</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return
                                <expr>
                                    <name>WT_OTHER</name>
                                </expr>
                                ;
                            </return>
                        </then>
                    </if>
                    <return>return
                        <expr>
                            <call>
                                <name>getWordType0</name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>
                                                <name>target</name>
                                                <index>[
                                                    <expr>
                                                        <name>offset</name>
                                                    </expr>
                                                    ]
                                                </index>
                                            </name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>opts</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>


            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>part</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>0</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>
                                            <name>target</name>
                                            <index>[
                                                <expr><name>offset</name>++
                                                </expr>
                                                ]
                                            </index>
                                        </name>
                                        !=
                                        <call>
                                            <name><name>part</name>.
                                                <name>charAt</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr><name>i</name>++
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset2</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>
                                    <name>offset2</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>
                                            <name>target</name>
                                            <index>[
                                                <expr><name>offset</name>++
                                                </expr>
                                                ]
                                            </index>
                                        </name>
                                        !=
                                        <name>
                                            <name>target</name>
                                            <index>[
                                                <expr><name>i</name>++
                                                </expr>
                                                ]
                                            </index>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * @see java.lang.String#regionMatches
                */
            </comment>
            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatchesIgnoreCase</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>part</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>0</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch1</name> =
                                    <init>
                                        <expr>
                                            <name>
                                                <name>target</name>
                                                <index>[
                                                    <expr><name>offset</name>++
                                                    </expr>
                                                    ]
                                                </index>
                                            </name>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch2</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>part</name>.
                                                    <name>charAt</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr><name>i</name>++
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>ch1</name>
                                        ==
                                        <name>ch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch1</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch1</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch2</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch2</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>uch1</name>
                                        ==
                                        <name>uch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch1</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        !=
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch2</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatchesIgnoreCase</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>
                                    <name>char</name>
                                    <index>[]</index>
                                </name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset2</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>
                                    <name>offset2</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch1</name> =
                                    <init>
                                        <expr>
                                            <name>
                                                <name>target</name>
                                                <index>[
                                                    <expr><name>offset</name>++
                                                    </expr>
                                                    ]
                                                </index>
                                            </name>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch2</name> =
                                    <init>
                                        <expr>
                                            <name>
                                                <name>target</name>
                                                <index>[
                                                    <expr><name>i</name>++
                                                    </expr>
                                                    ]
                                                </index>
                                            </name>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>ch1</name>
                                        ==
                                        <name>ch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch1</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch1</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch2</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch2</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>uch1</name>
                                        ==
                                        <name>uch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch1</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        !=
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch2</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>


            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern or not.
                *
                * @return true if the target is matched to this regular expression.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>matches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>target</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>0</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <call>
                                                <name>
                                                    <name>target</name>
                                                    .
                                                    <name>length</name>
                                                </name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>(<name>Match</name>)
                                            <name>null</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern
                * in specified range or not.
                *
                * @param start Start offset of the range.
                * @param end End offset +1 of the range.
                * @return true if the target is matched to this regular expression.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>start</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>matches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>target</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>start</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>end</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>(<name>Match</name>)
                                            <name>null</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern or not.
                *
                * @param match A Match instance for storing matching result.
                * @return Offset of the start position in &lt;VAR&gt;target&lt;/VAR&gt;; or -1 if not match.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Match</name>
                            </type>
                            <name>match</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>matches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>target</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>0</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <call>
                                                <name>
                                                    <name>target</name>
                                                    .
                                                    <name>length</name>
                                                </name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>match</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern
                * in specified range or not.
                *
                * @param start Start offset of the range.
                * @param end End offset +1 of the range.
                * @param match A Match instance for storing matching result.
                * @return Offset of the start position in &lt;VAR&gt;target&lt;/VAR&gt;; or -1 if not match.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>start</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Match</name>
                            </type>
                            <name>match</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{

                    <synchronized>synchronized (
                        <expr>
                            <name>this</name>
                        </expr>
                        )
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>operations</name>
                                        </name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <expr_stmt>
                                        <expr>
                                            <call>
                                                <name><name>this</name>.
                                                    <name>prepare</name>
                                                </name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>context</name>
                                        </name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <expr_stmt>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>context</name>
                                            </name>
                                            = new
                                            <call>
                                                <name>Context</name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                </then>
                            </if>
                            }
                        </block>
                    </synchronized>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>Context</name>
                            </type>
                            <name>con</name> =
                            <init>
                                <expr>
                                    <name>null</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <synchronized>synchronized (
                        <expr>
                            <name><name>this</name>.
                                <name>context</name>
                            </name>
                        </expr>
                        )
                        <block>{
                            <expr_stmt>
                                <expr>
                                    <name>con</name>
                                    =
                                    <name><name>this</name>.<name>context</name>.
                                        <name>inuse</name>
                                    </name>
                                    ? new
                                    <call>
                                        <name>Context</name>
                                        <argument_list>()</argument_list>
                                    </call>
                                    :
                                    <name><name>this</name>.
                                        <name>context</name>
                                    </name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <call>
                                        <name><name>con</name>.
                                            <name>reset</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>target</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>start</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>end</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name><name>this</name>.
                                                        <name>numberOfClosures</name>
                                                    </name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                                ;
                            </expr_stmt>
                            }
                        </block>
                    </synchronized>
                    <if>if
                        <condition>(
                            <expr>
                                <name>match</name>
                                !=
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <expr_stmt>
                                    <expr>
                                        <call>
                                            <name><name>match</name>.
                                                <name>setNumberOfGroups</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>nofparen</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <call>
                                            <name><name>match</name>.
                                                <name>setSource</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>target</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                }
                            </block>
                        </then>
                        <else>else
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>hasBackReferences</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <block>{
                                        <expr_stmt>
                                            <expr>
                                                <name>match</name>
                                                = new
                                                <call>
                                                    <name>Match</name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <expr_stmt>
                                            <expr>
                                                <call>
                                                    <name><name>match</name>.
                                                        <name>setNumberOfGroups</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>nofparen</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <comment type="line">// Need not to call setSource() because</comment>
                                        <comment type="line">// a caller can not access this match instance.</comment>
                                        }
                                    </block>
                                </then>
                            </if>
                        </else>
                    </if>
                    <expr_stmt>
                        <expr>
                            <name><name>con</name>.
                                <name>match</name>
                            </name>
                            =
                            <name>match</name>
                        </expr>
                        ;
                    </expr_stmt>

                    <if>if
                        <condition>(
                            <expr>
                                <call>
                                    <name><name>RegularExpression</name>.
                                        <name>isSet</name>
                                    </name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>options</name>
                                                </name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>XMLSCHEMA_MODE</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>DEBUG</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>System</name>.<name>err</name>.
                                                            <name>println</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>"target string="+
                                                                    <name>target</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>matchEnd</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.
                                                        <name>matchString</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>con</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>operations</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>1</expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>options</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>DEBUG</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>System</name>.<name>err</name>.
                                                            <name>println</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>"matchEnd="+
                                                                    <name>matchEnd</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>System</name>.<name>err</name>.
                                                            <name>println</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>"con.limit="+
                                                                    <name><name>con</name>.
                                                                        <name>limit</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>matchEnd</name>
                                            ==
                                            <name><name>con</name>.
                                                <name>limit</name>
                                            </name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>con</name>.
                                                            <name>match</name>
                                                        </name>
                                                        !=
                                                        <name>null</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>matchEnd</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>true</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </then>
                    </if>

                    <comment type="block">/*
                        * The pattern has only fixed string.
                        * The engine uses Boyer-Moore.
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>fixedStringOnly</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <comment type="line">//System.err.println("DEBUG: fixed-only: "+this.fixedString);
                                </comment>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>o</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>fixedStringTable</name>.
                                                        <name>matches</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>target</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>o</name>
                                            &gt;= 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>con</name>.
                                                            <name>match</name>
                                                        </name>
                                                        !=
                                                        <name>null</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>o</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr><name>o</name>+
                                                                                <call>
                                                                                    <name><name>this</name>.<name>
                                                                                        fixedString</name>.
                                                                                        <name>length</name>
                                                                                    </name>
                                                                                    <argument_list>()</argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>true</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </then>
                    </if>

                    <comment type="block">/*
                        * The pattern contains a fixed string.
                        * The engine checks with Boyer-Moore whether the text contains the fixed string or not.
                        * If not, it return with false.
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>fixedString</name>
                                </name>
                                !=
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>o</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>fixedStringTable</name>.
                                                        <name>matches</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>target</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>o</name>
                                            &lt; 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <comment type="line">//System.err.println("Non-match in fixed-string
                                                search.");
                                            </comment>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>false</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                }
                            </block>
                        </then>
                    </if>

                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name> =
                            <init>
                                <expr>
                                    <name><name>con</name>.
                                        <name>limit</name>
                                    </name>
                                    -
                                    <name><name>this</name>.
                                        <name>minlength</name>
                                    </name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>matchStart</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>matchEnd</name> =
                            <init>
                                <expr>-1</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>

                    <comment type="block">/*
                        * Checks whether the expression starts with ".*".
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>operations</name>
                                </name>
                                !=
                                <name>null</name>
                                &amp;&amp;
                                <name><name>this</name>.<name>operations</name>.
                                    <name>type</name>
                                </name>
                                ==
                                <name><name>Op</name>.
                                    <name>CLOSURE</name>
                                </name>
                                &amp;&amp;
                                <call>
                                    <name><name>this</name>.<name>operations</name>.
                                        <name>getChild</name>
                                    </name>
                                    <argument_list>()</argument_list>
                                </call>
                                .<name>type</name> ==
                                <name><name>Op</name>.
                                    <name>DOT</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <call>
                                                <name>isSet</name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name><name>this</name>.
                                                                <name>options</name>
                                                            </name>
                                                        </expr>
                                                    </argument>
                                                    ,
                                                    <argument>
                                                        <expr>
                                                            <name>SINGLE_LINE</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <name>matchStart</name>
                                                    =
                                                    <name><name>con</name>.
                                                        <name>start</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>matchEnd</name>
                                                    =
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchString</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>operations</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>con</name>.
                                                                        <name>start</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>options</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                    <else>else
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>boolean</name>
                                                    </type>
                                                    <name>previousIsEOL</name> =
                                                    <init>
                                                        <expr>true</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <for>for (
                                                <init>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        =
                                                        <name><name>con</name>.
                                                            <name>start</name>
                                                        </name>
                                                    </expr>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        &lt;=
                                                        <name>limit</name>
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        ++
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>charAt</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>matchStart</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>previousIsEOL</name>
                                                                        = true
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>previousIsEOL</name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                                        <call>
                                                                                            <name><name>this</name>.
                                                                                                <name>matchString</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>con</name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name><name>
                                                                                                            this</name>.
                                                                                                            <name>
                                                                                                                operations
                                                                                                            </name>
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>
                                                                                                            matchStart
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>1</expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name><name>
                                                                                                            this</name>.
                                                                                                            <name>
                                                                                                                options
                                                                                                            </name>
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        )
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <break>break;</break>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>previousIsEOL</name>
                                                                        = false
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </for>
                                            }
                                        </block>
                                    </else>
                                </if>
                                }
                            </block>
                        </then>

                        <comment type="block">/*
                            * Optimization against the first character.
                            */
                        </comment>
                        <else>else
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>firstChar</name>
                                        </name>
                                        !=
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <block>{
                                        <comment type="line">//System.err.println("DEBUG: with firstchar-matching:
                                            "+this.firstChar);
                                        </comment>
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>RangeToken</name>
                                                </type>
                                                <name>range</name> =
                                                <init>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>firstChar</name>
                                                        </name>
                                                    </expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name><name>RegularExpression</name>.
                                                            <name>isSet</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>options</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>IGNORE_CASE</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>range</name>
                                                            =
                                                            <call>
                                                                <name><name>this</name>.<name>firstChar</name>.
                                                                    <name>getCaseInsensitiveToken</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <for>for (
                                                        <init>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                =
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </init>
                                                        <condition>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                &lt;=
                                                                <name>limit</name>
                                                            </expr>
                                                            ;
                                                        </condition>
                                                        <incr>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                ++
                                                            </expr>
                                                        </incr>
                                                        )
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ch</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>charAt</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>matchStart</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>REUtil</name>.
                                                                                <name>isHighSurrogate</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        &amp;&amp; <name>matchStart</name>+1 &lt;
                                                                        <name><name>con</name>.
                                                                            <name>limit</name>
                                                                        </name>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <block>{
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <call>
                                                                                                    <name>
                                                                                                        <name>target
                                                                                                        </name>
                                                                                                        .
                                                                                                        <name>charAt
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr><name>
                                                                                                                matchStart</name>
                                                                                                                +1
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                        <if>if
                                                                            <condition>(
                                                                                <expr>!
                                                                                    <call>
                                                                                        <name><name>range</name>.
                                                                                            <name>match</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>
                                                                                                    <name>ch</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                                )
                                                                            </condition>
                                                                            <then>
                                                                                <continue>continue;</continue>
                                                                            </then>
                                                                        </if>
                                                                        }
                                                                    </block>
                                                                </then>
                                                                <else>else
                                                                    <block>{
                                                                        <if>if
                                                                            <condition>(
                                                                                <expr>!
                                                                                    <call>
                                                                                        <name><name>range</name>.
                                                                                            <name>match</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>
                                                                                                    <name>ch</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                                )
                                                                            </condition>
                                                                            <then>
                                                                                <block>{
                                                                                    <decl_stmt>
                                                                                        <decl>
                                                                                            <type>
                                                                                                <name>char</name>
                                                                                            </type>
                                                                                            <name>ch1</name> =
                                                                                            <init>
                                                                                                <expr>
                                                                                                    <call>
                                                                                                        <name><name>
                                                                                                            Character</name>
                                                                                                            .
                                                                                                            <name>
                                                                                                                toUpperCase
                                                                                                            </name>
                                                                                                        </name>
                                                                                                        <argument_list>(
                                                                                                            <argument>
                                                                                                                <expr>
                                                                                                                    (<name>
                                                                                                                    char</name>)
                                                                                                                    <name>
                                                                                                                        ch
                                                                                                                    </name>
                                                                                                                </expr>
                                                                                                            </argument>
                                                                                                            )
                                                                                                        </argument_list>
                                                                                                    </call>
                                                                                                </expr>
                                                                                            </init>
                                                                                        </decl>
                                                                                        ;
                                                                                    </decl_stmt>
                                                                                    <if>if
                                                                                        <condition>(
                                                                                            <expr>!
                                                                                                <call>
                                                                                                    <name><name>
                                                                                                        range</name>.
                                                                                                        <name>match
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr>
                                                                                                                <name>
                                                                                                                    ch1
                                                                                                                </name>
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                            )
                                                                                        </condition>
                                                                                        <then>
                                                                                            <if>if
                                                                                                <condition>(
                                                                                                    <expr>!
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                range</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    match
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <call>
                                                                                                                            <name>
                                                                                                                                <name>
                                                                                                                                    Character</name>
                                                                                                                                .
                                                                                                                                <name>
                                                                                                                                    toLowerCase
                                                                                                                                </name>
                                                                                                                            </name>
                                                                                                                            <argument_list>
                                                                                                                                (
                                                                                                                                <argument>
                                                                                                                                    <expr>
                                                                                                                                        <name>
                                                                                                                                            ch1
                                                                                                                                        </name>
                                                                                                                                    </expr>
                                                                                                                                </argument>
                                                                                                                                )
                                                                                                                            </argument_list>
                                                                                                                        </call>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                    )
                                                                                                </condition>
                                                                                                <then>
                                                                                                    <continue>
                                                                                                        continue;
                                                                                                    </continue>
                                                                                                </then>
                                                                                            </if>
                                                                                        </then>
                                                                                    </if>
                                                                                    }
                                                                                </block>
                                                                            </then>
                                                                        </if>
                                                                        }
                                                                    </block>
                                                                </else>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                        <call>
                                                                            <name><name>this</name>.
                                                                                <name>matchString</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>con</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>operations</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>1</expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>options</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        )
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <break>break;</break>
                                                                </then>
                                                            </if>
                                                            }
                                                        </block>
                                                    </for>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <for>for (
                                                        <init>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                =
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </init>
                                                        <condition>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                &lt;=
                                                                <name>limit</name>
                                                            </expr>
                                                            ;
                                                        </condition>
                                                        <incr>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                ++
                                                            </expr>
                                                        </incr>
                                                        )
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ch</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>charAt</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>matchStart</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>REUtil</name>.
                                                                                <name>isHighSurrogate</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        &amp;&amp; <name>matchStart</name>+1 &lt;
                                                                        <name><name>con</name>.
                                                                            <name>limit</name>
                                                                        </name>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>ch</name>
                                                                            =
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>composeFromSurrogates</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>charAt</name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr><name>
                                                                                                            matchStart</name>
                                                                                                            +1
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                </then>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>!
                                                                        <call>
                                                                            <name><name>range</name>.
                                                                                <name>match</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <continue>continue;</continue>
                                                                </then>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                        <call>
                                                                            <name><name>this</name>.
                                                                                <name>matchString</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>con</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>operations</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>1</expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>options</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        )
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <break>break;</break>
                                                                </then>
                                                            </if>
                                                            }
                                                        </block>
                                                    </for>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        }
                                    </block>
                                </then>

                                <comment type="block">/*
                                    * Straightforward matching.
                                    */
                                </comment>
                                <else>else
                                    <block>{
                                        <for>for (
                                            <init>
                                                <expr>
                                                    <name>matchStart</name>
                                                    =
                                                    <name><name>con</name>.
                                                        <name>start</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </init>
                                            <condition>
                                                <expr>
                                                    <name>matchStart</name>
                                                    &lt;=
                                                    <name>limit</name>
                                                </expr>
                                                ;
                                            </condition>
                                            <incr>
                                                <expr>
                                                    <name>matchStart</name>
                                                    ++
                                                </expr>
                                            </incr>
                                            )
                                            <block>{
                                                <if>if
                                                    <condition>(
                                                        <expr>0 &lt;= (<name>matchEnd</name> =
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchString</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>this</name>.
                                                                                <name>operations</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>matchStart</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>1</expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>this</name>.
                                                                                <name>options</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                            )
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <break>break;</break>
                                                    </then>
                                                </if>
                                                }
                                            </block>
                                        </for>
                                        }
                                    </block>
                                </else>
                            </if>
                        </else>
                    </if>

                    <if>if
                        <condition>(
                            <expr>
                                <name>matchEnd</name>
                                &gt;= 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name><name>con</name>.
                                                <name>match</name>
                                            </name>
                                            !=
                                            <name>null</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>con</name>.<name>match</name>.
                                                            <name>setBeginning</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>0</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>matchStart</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>con</name>.<name>match</name>.
                                                            <name>setEnd</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>0</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>matchEnd</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>true</expr>;
                                </return>
                                }
                            </block>
                        </then>
                        <else>else
                            <block>{
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </else>
                    </if>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * @return -1 when not match; offset of the end of matched string when match.
                */
            </comment>
            <function>
                <type>
                    <specifier>private</specifier>
                    <name>int</name>
                </type>
                <name>matchString</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>Context</name>
                            </type>
                            <name>con</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Op</name>
                            </type>
                            <name>op</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>dx</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{


                    <decl_stmt>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>target</name> =
                            <init>
                                <expr>
                                    <name><name>con</name>.
                                        <name>strTarget</name>
                                    </name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>


                    <while>while
                        <condition>(<expr>true</expr>)
                        </condition>
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>op</name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return
                                        <expr>
                                            <call>
                                                <name>isSet</name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>opts</name>
                                                        </expr>
                                                    </argument>
                                                    ,
                                                    <argument>
                                                        <expr>
                                                            <name>XMLSCHEMA_MODE</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                            &amp;&amp; <name>offset</name> !=
                                            <name><name>con</name>.
                                                <name>limit</name>
                                            </name>
                                            ? -1 :
                                            <name>offset</name>
                                        </expr>
                                        ;
                                    </return>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>offset</name>
                                        &gt;
                                        <name><name>con</name>.
                                            <name>limit</name>
                                        </name>
                                        || <name>offset</name> &lt;
                                        <name><name>con</name>.
                                            <name>start</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>-1</expr>;
                                    </return>
                                </then>
                            </if>
                            <switch>switch
                                <condition>(
                                    <expr>
                                        <name><name>op</name>.
                                            <name>type</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <block>{
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CHAR</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name>isSet</name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>IGNORE_CASE</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getData</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>dx</name>
                                                                &gt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || !
                                                                            <call>
                                                                                <name>matchIgnoreCase</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>charAt</name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>
                                                                                                                offset
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        ++
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>o1</name> =
                                                                        <init>
                                                                            <expr><name>offset</name>-1
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>o1</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>o1</name> &lt; 0 || !
                                                                            <call>
                                                                                <name>matchIgnoreCase</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>charAt</name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>o1
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        =
                                                                        <name>o1</name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getData</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>dx</name>
                                                                &gt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>ch</name> !=
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>charAt</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        ++
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>o1</name> =
                                                                        <init>
                                                                            <expr><name>offset</name>-1
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>o1</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>o1</name> &lt; 0 || <name>ch</name> !=
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>charAt</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>o1</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        =
                                                                        <name>o1</name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>DOT</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name>dx</name>
                                                    &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>charAt</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>SINGLE_LINE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isHighSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>offset</name>+1 &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                                ++
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isHighSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>offset</name>+1 &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <call>
                                                                                                    <name>
                                                                                                        <name>target
                                                                                                        </name>
                                                                                                        .
                                                                                                        <name>charAt
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr>++
                                                                                                                <name>
                                                                                                                    offset
                                                                                                                </name>
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            ++
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>o1</name> =
                                                            <init>
                                                                <expr><name>offset</name>-1
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>o1</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>o1</name> &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>charAt</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>o1</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>SINGLE_LINE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isLowSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>o1</name>
                                                                                --
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isLowSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <call>
                                                                                                    <name>
                                                                                                        <name>target
                                                                                                        </name>
                                                                                                        .
                                                                                                        <name>charAt
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr>--
                                                                                                                <name>
                                                                                                                    o1
                                                                                                                </name>
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            =
                                                            <name>o1</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>RANGE</name>
                                            </name>
                                        </expr>
                                        :
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NRANGE</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name>dx</name>
                                                    &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>charAt</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name><name>REUtil</name>.
                                                                        <name>isHighSurrogate</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &amp;&amp; <name>offset</name>+1 &lt;
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>ch</name>
                                                                    =
                                                                    <call>
                                                                        <name><name>REUtil</name>.
                                                                            <name>composeFromSurrogates</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>ch</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <call>
                                                                                        <name>
                                                                                            <name>target</name>
                                                                                            .
                                                                                            <name>charAt</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>++
                                                                                                    <name>offset</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>RangeToken</name>
                                                            </type>
                                                            <name>tok</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getToken</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>IGNORE_CASE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>tok</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getCaseInsensitiveToken</name>
                                                                            </name>
                                                                            <argument_list>()</argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                        &gt;= 0x10000
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            <decl_stmt>
                                                                                <decl>
                                                                                    <type>
                                                                                        <name>char</name>
                                                                                    </type>
                                                                                    <name>uch</name>
                                                                                </decl>
                                                                                ;
                                                                            </decl_stmt>
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>!
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>uch</name>
                                                                                                        =
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toUpperCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        (<name>
                                                                                                                        char</name>)
                                                                                                                        <name>
                                                                                                                            ch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        &amp;&amp; !
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toLowerCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <name>
                                                                                                                            uch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            ++
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>o1</name> =
                                                            <init>
                                                                <expr><name>offset</name>-1
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>o1</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>o1</name> &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>charAt</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>o1</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name><name>REUtil</name>.
                                                                        <name>isLowSurrogate</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>ch</name>
                                                                    =
                                                                    <call>
                                                                        <name><name>REUtil</name>.
                                                                            <name>composeFromSurrogates</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <call>
                                                                                        <name>
                                                                                            <name>target</name>
                                                                                            .
                                                                                            <name>charAt</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>--
                                                                                                    <name>o1</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>ch</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>RangeToken</name>
                                                            </type>
                                                            <name>tok</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getToken</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>IGNORE_CASE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>tok</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getCaseInsensitiveToken</name>
                                                                            </name>
                                                                            <argument_list>()</argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                        &gt;= 0x10000
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            <decl_stmt>
                                                                                <decl>
                                                                                    <type>
                                                                                        <name>char</name>
                                                                                    </type>
                                                                                    <name>uch</name>
                                                                                </decl>
                                                                                ;
                                                                            </decl_stmt>
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>!
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>uch</name>
                                                                                                        =
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toUpperCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        (<name>
                                                                                                                        char</name>)
                                                                                                                        <name>
                                                                                                                            ch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        &amp;&amp; !
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toLowerCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <name>
                                                                                                                            uch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            =
                                                            <name>o1</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>ANCHOR</name>
                                            </name>
                                        </expr>
                                        :
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>boolean</name>
                                                </type>
                                                <name>go</name> =
                                                <init>
                                                    <expr>false</expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <switch>switch
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <block>{
                                                <case>case <expr>'^'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>MULTIPLE_LINES</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                            || <name>offset</name> &gt;
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>charAt</name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr><name>
                                                                                                            offset</name>
                                                                                                            -1
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            )
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            !=
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'@'</expr>:
                                                    <comment type="line">// Internal use only.</comment>
                                                    <comment type="line">// The @ always matches line beginnings.
                                                    </comment>
                                                    <if>if
                                                        <condition>(
                                                            <expr>!(<name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                                || <name>offset</name> &gt;
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name>
                                                                                        <name>target</name>
                                                                                        .
                                                                                        <name>charAt</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-1
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                )
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'$'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>MULTIPLE_LINES</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>offset</name> &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>charAt</name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>
                                                                                                                offset
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            )
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>offset</name>+1 ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>charAt</name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>
                                                                                                                offset
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            || <name>offset</name>+2 ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>charAt</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            ==
                                                                            <name>CARRIAGE_RETURN</name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>charAt</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr><name>offset</name>+1
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            == <name>LINE_FEED</name>)
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'A'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                !=
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'Z'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>!(<name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>offset</name>+1 ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name>
                                                                                        <name>target</name>
                                                                                        .
                                                                                        <name>charAt</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                || <name>offset</name>+2 ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>
                                                                        <name>target</name>
                                                                        .
                                                                        <name>charAt</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                ==
                                                                <name>CARRIAGE_RETURN</name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>
                                                                        <name>target</name>
                                                                        .
                                                                        <name>charAt</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr><name>offset</name>+1
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                == <name>LINE_FEED</name>)
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'z'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                !=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'b'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <block>{
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>after</name> =
                                                                <init>
                                                                    <expr>
                                                                        <call>
                                                                            <name>getWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>after</name>
                                                                    ==
                                                                    <name>WT_IGNORE</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <return>return <expr>-1</expr>;
                                                                </return>
                                                            </then>
                                                        </if>
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>before</name> =
                                                                <init>
                                                                    <expr>
                                                                        <call>
                                                                            <name>getPreviousWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>after</name>
                                                                    ==
                                                                    <name>before</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <return>return <expr>-1</expr>;
                                                                </return>
                                                            </then>
                                                        </if>
                                                        }
                                                    </block>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'B'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>go</name>
                                                                    = true
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>after</name> =
                                                                        <init>
                                                                            <expr>
                                                                                <call>
                                                                                    <name>getWordType</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>start</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>opts</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>go</name>
                                                                        = <name>after</name> ==
                                                                        <name>WT_IGNORE</name>
                                                                        || <name>after</name> ==
                                                                        <call>
                                                                            <name>getPreviousWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>!
                                                                <name>go</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'&lt;'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0 || <name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>getWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_LETTER</name>
                                                                ||
                                                                <call>
                                                                    <name>getPreviousWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_OTHER</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'&gt;'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0 || <name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>getWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_OTHER</name>
                                                                ||
                                                                <call>
                                                                    <name>getPreviousWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_LETTER</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>
                                                </case>
                                                }
                                            </block>
                                        </switch>
                                        <comment type="line">// switch anchor type</comment>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>BACKREFERENCE</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>refno</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getData</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>refno</name>
                                                        &lt;= 0 || <name>refno</name> &gt;=
                                                        <name><name>this</name>.
                                                            <name>nofparen</name>
                                                        </name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <throw>throw
                                                        <expr>new
                                                            <call>
                                                                <name>RuntimeException</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>"Internal Error: Reference number must be
                                                                            more than zero: "+
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </throw>
                                                </then>
                                            </if>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <call>
                                                            <name><name>con</name>.<name>match</name>.
                                                                <name>getBeginning</name>
                                                            </name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>refno</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                        &lt; 0
                                                        ||
                                                        <call>
                                                            <name><name>con</name>.<name>match</name>.
                                                                <name>getEnd</name>
                                                            </name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>refno</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return <expr>-1</expr>;
                                                    </return>
                                                </then>
                                            </if>
                                            <comment type="line">// ********</comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>o2</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>getBeginning</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>literallen</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>getEnd</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                            -
                                                            <name>o2</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>!
                                                        <call>
                                                            <name>isSet</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>opts</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>IGNORE_CASE</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>STRING</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>String</name>
                                                    </type>
                                                    <name>literal</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getString</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>literallen</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>literal</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>!
                                                        <call>
                                                            <name>isSet</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>opts</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>IGNORE_CASE</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CLOSURE</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <comment type="block">/*
                                                * Saves current position to avoid
                                                * zero-width repeats.
                                                */
                                            </comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>id</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getData</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>id</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>previousOffset</name> =
                                                                <init>
                                                                    <expr>
                                                                        <name><name>con</name>.
                                                                            <name>offsets</name>
                                                                            <index>[
                                                                                <expr>
                                                                                    <name>id</name>
                                                                                </expr>
                                                                                ]
                                                                            </index>
                                                                        </name>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>previousOffset</name>
                                                                    &lt; 0 || <name>previousOffset</name> !=
                                                                    <name>offset</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name><name>con</name>.
                                                                                <name>offsets</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>id</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            =
                                                                            <name>offset</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name><name>con</name>.
                                                                                <name>offsets</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>id</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            = -1
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>op</name>
                                                                            =
                                                                            <name><name>op</name>.
                                                                                <name>next</name>
                                                                            </name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    <break>break;</break>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                            </if>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchString</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>id</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name><name>con</name>.
                                                                <name>offsets</name>
                                                                <index>[
                                                                    <expr>
                                                                        <name>id</name>
                                                                    </expr>
                                                                    ]
                                                                </index>
                                                            </name>
                                                            = -1
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                </then>
                                            </if>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>QUESTION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchString</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NONGREEDYCLOSURE</name>
                                            </name>
                                        </expr>
                                        :
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NONGREEDYQUESTION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchString</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>op</name>.
                                                                                <name>next</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getChild</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>UNION</name>
                                            </name>
                                        </expr>
                                        :
                                        <for>for (
                                            <init>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>i</name> =
                                                    <init>
                                                        <expr>0</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </init>
                                            <condition>
                                                <expr>
                                                    <name>i</name>
                                                    &lt;
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>size</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </condition>
                                            <incr>
                                                <expr>
                                                    <name>i</name>
                                                    ++
                                                </expr>
                                            </incr>
                                            )
                                            <block>{
                                                <decl_stmt>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>ret</name> =
                                                        <init>
                                                            <expr>
                                                                <call>
                                                                    <name><name>this</name>.
                                                                        <name>matchString</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>con</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name><name>op</name>.
                                                                                        <name>elementAt</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>i</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>dx</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </decl_stmt>
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name>DEBUG</name>
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <block>{
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>System</name>.<name>err</name>.
                                                                            <name>println</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>"UNION: "+<name>i</name>+", ret="+
                                                                                    <name>ret</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                            }
                                                        </block>
                                                    </then>
                                                </if>
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name>ret</name>
                                                            &gt;= 0
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <return>return
                                                            <expr>
                                                                <name>ret</name>
                                                            </expr>
                                                            ;
                                                        </return>
                                                    </then>
                                                </if>
                                                }
                                            </block>
                                        </for>
                                        <return>return <expr>-1</expr>;
                                        </return>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CAPTURE</name>
                                            </name>
                                        </expr>
                                        :
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>int</name>
                                                </type>
                                                <name>refno</name> =
                                                <init>
                                                    <expr>
                                                        <call>
                                                            <name><name>op</name>.
                                                                <name>getData</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>match</name>
                                                    </name>
                                                    != <name>null</name> &amp;&amp; <name>refno</name> &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>save</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>getBeginning</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>refno</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>setBeginning</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ret</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>this</name>.
                                                                            <name>matchString</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>con</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name><name>op</name>.
                                                                                        <name>next</name>
                                                                                    </name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>dx</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>opts</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>ret</name>
                                                                &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>setBeginning</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>refno</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>save</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name><name>con</name>.
                                                                <name>match</name>
                                                            </name>
                                                            != <name>null</name> &amp;&amp; <name>refno</name> &lt; 0
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>index</name> =
                                                                    <init>
                                                                        <expr>-
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>save</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>con</name>.<name>
                                                                                    match</name>.
                                                                                    <name>getEnd</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>index</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>setEnd</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>index</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ret</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>this</name>.
                                                                                    <name>matchString</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>con</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name><name>op</name>.
                                                                                                <name>next</name>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>dx</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>opts</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <name>ret</name>
                                                                        &lt; 0
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>con</name>.<name>
                                                                                    match</name>.
                                                                                    <name>setEnd</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>index</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>save</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                </then>
                                                            </if>
                                                            <return>return
                                                                <expr>
                                                                    <name>ret</name>
                                                                </expr>
                                                                ;
                                                            </return>
                                                            }
                                                        </block>
                                                    </then>
                                                </if>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>LOOKAHEAD</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &gt;
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchString</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NEGATIVELOOKAHEAD</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &lt;=
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchString</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>LOOKBEHIND</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &gt;
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchString</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>-1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NEGATIVELOOKBEHIND</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &lt;=
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchString</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>-1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>INDEPENDENT</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchString</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>offset</name>
                                                    =
                                                    <name>ret</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>MODIFIER</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>localopts</name> =
                                                    <init>
                                                        <expr>
                                                            <name>opts</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>localopts</name>
                                                    |=
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>localopts</name>
                                                    &amp;= ~
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData2</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <comment type="line">//System.err.println("MODIFIER:
                                                "+Integer.toString(opts, 16)+" -&gt; "+Integer.toString(localopts, 16));
                                            </comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchString</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>localopts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>offset</name>
                                                    =
                                                    <name>ret</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CONDITION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name><name>Op</name>.
                                                            <name>ConditionOp</name>
                                                        </name>
                                                    </type>
                                                    <name>cop</name> =
                                                    <init>
                                                        <expr>(
                                                            <name><name>Op</name>.
                                                                <name>ConditionOp</name>
                                                            </name>
                                                            )
                                                            <name>op</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>boolean</name>
                                                    </type>
                                                    <name>matchp</name> =
                                                    <init>
                                                        <expr>false</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>cop</name>.
                                                            <name>refNumber</name>
                                                        </name>
                                                        &gt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name><name>cop</name>.
                                                                        <name>refNumber</name>
                                                                    </name>
                                                                    &gt;=
                                                                    <name><name>this</name>.
                                                                        <name>nofparen</name>
                                                                    </name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <throw>throw
                                                                    <expr>new
                                                                        <call>
                                                                            <name>RuntimeException</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>"Internal Error: Reference
                                                                                        number must be more than zero:
                                                                                        "+
                                                                                        <name><name>cop</name>.
                                                                                            <name>refNumber</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </throw>
                                                            </then>
                                                        </if>
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>matchp</name>
                                                                =
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>getBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>refNumber</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &gt;= 0
                                                                &amp;&amp;
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>getEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>refNumber</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &gt;= 0
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>matchp</name>
                                                                = 0 &lt;=
                                                                <call>
                                                                    <name><name>this</name>.
                                                                        <name>matchString</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>con</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>condition</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>dx</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </else>
                                            </if>

                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>matchp</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>op</name>
                                                                =
                                                                <name><name>cop</name>.
                                                                    <name>yes</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>cop</name>.
                                                                    <name>no</name>
                                                                </name>
                                                                !=
                                                                <name>null</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <name><name>cop</name>.
                                                                            <name>no</name>
                                                                        </name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <name><name>cop</name>.
                                                                            <name>next</name>
                                                                        </name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <default>default:
                                        <throw>throw
                                            <expr>new
                                                <call>
                                                    <name>RuntimeException</name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>"Unknown operation type: "+
                                                                <name><name>op</name>.
                                                                    <name>type</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </throw>
                                    </default>
                                    }
                                </block>
                            </switch>
                            <comment type="line">// switch (op.type)</comment>
                            }
                        </block>
                    </while>
                    <comment type="line">// while</comment>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>int</name>
                </type>
                <name>getPreviousWordType</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>begin</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>ret</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name>getWordType</name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>target</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>begin</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>end</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>--
                                                    <name>offset</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>opts</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr>
                                <name>ret</name>
                                ==
                                <name>WT_IGNORE</name>
                            </expr>
                            )
                        </condition>
                        <expr_stmt>
                            <expr>
                                <name>ret</name>
                                =
                                <call>
                                    <name>getWordType</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>target</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>begin</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>end</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>--
                                                <name>offset</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>opts</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            ;
                        </expr_stmt>
                    </while>
                    <return>return
                        <expr>
                            <name>ret</name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>int</name>
                </type>
                <name>getWordType</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>begin</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; <name>begin</name> || <name>offset</name> &gt;=
                                <name>end</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return
                                <expr>
                                    <name>WT_OTHER</name>
                                </expr>
                                ;
                            </return>
                        </then>
                    </if>
                    <return>return
                        <expr>
                            <call>
                                <name>getWordType0</name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <call>
                                                <name>
                                                    <name>target</name>
                                                    .
                                                    <name>charAt</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>offset</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>opts</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>


            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>text</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>part</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <return>return
                        <expr>
                            <call>
                                <name><name>text</name>.
                                    <name>regionMatches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>offset</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>part</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>0</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>partlen</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>text</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset2</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <return>return
                        <expr>
                            <call>
                                <name><name>text</name>.
                                    <name>regionMatches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>offset</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>text</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>offset2</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>partlen</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatchesIgnoreCase</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>text</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>part</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>text</name>.
                                    <name>regionMatches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>true</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>offset</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>part</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>0</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>partlen</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatchesIgnoreCase</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>text</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset2</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <return>return
                        <expr>
                            <call>
                                <name><name>text</name>.
                                    <name>regionMatches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>true</expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>offset</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>text</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>offset2</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>partlen</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>


            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern or not.
                *
                * @return true if the target is matched to this regular expression.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>matches</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>target</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>(<name>Match</name>)
                                            <name>null</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>


            <comment type="javadoc">/**
                * Checks whether the &lt;var&gt;target&lt;/var&gt; text &lt;strong&gt;contains&lt;/strong&gt; this
                pattern or not.
                *
                * @param match A Match instance for storing matching result.
                * @return Offset of the start position in &lt;VAR&gt;target&lt;/VAR&gt;; or -1 if not match.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>matches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Match</name>
                            </type>
                            <name>match</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>start</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name><name>target</name>.
                                            <name>getBeginIndex</name>
                                        </name>
                                        <argument_list>()</argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name><name>target</name>.
                                            <name>getEndIndex</name>
                                        </name>
                                        <argument_list>()</argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>


                    <synchronized>synchronized (
                        <expr>
                            <name>this</name>
                        </expr>
                        )
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>operations</name>
                                        </name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <expr_stmt>
                                        <expr>
                                            <call>
                                                <name><name>this</name>.
                                                    <name>prepare</name>
                                                </name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>context</name>
                                        </name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <expr_stmt>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>context</name>
                                            </name>
                                            = new
                                            <call>
                                                <name>Context</name>
                                                <argument_list>()</argument_list>
                                            </call>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                </then>
                            </if>
                            }
                        </block>
                    </synchronized>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>Context</name>
                            </type>
                            <name>con</name> =
                            <init>
                                <expr>
                                    <name>null</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <synchronized>synchronized (
                        <expr>
                            <name><name>this</name>.
                                <name>context</name>
                            </name>
                        </expr>
                        )
                        <block>{
                            <expr_stmt>
                                <expr>
                                    <name>con</name>
                                    =
                                    <name><name>this</name>.<name>context</name>.
                                        <name>inuse</name>
                                    </name>
                                    ? new
                                    <call>
                                        <name>Context</name>
                                        <argument_list>()</argument_list>
                                    </call>
                                    :
                                    <name><name>this</name>.
                                        <name>context</name>
                                    </name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <call>
                                        <name><name>con</name>.
                                            <name>reset</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>target</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>start</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>end</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name><name>this</name>.
                                                        <name>numberOfClosures</name>
                                                    </name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                                ;
                            </expr_stmt>
                            }
                        </block>
                    </synchronized>
                    <if>if
                        <condition>(
                            <expr>
                                <name>match</name>
                                !=
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <expr_stmt>
                                    <expr>
                                        <call>
                                            <name><name>match</name>.
                                                <name>setNumberOfGroups</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>nofparen</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <call>
                                            <name><name>match</name>.
                                                <name>setSource</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>target</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                }
                            </block>
                        </then>
                        <else>else
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>hasBackReferences</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <block>{
                                        <expr_stmt>
                                            <expr>
                                                <name>match</name>
                                                = new
                                                <call>
                                                    <name>Match</name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <expr_stmt>
                                            <expr>
                                                <call>
                                                    <name><name>match</name>.
                                                        <name>setNumberOfGroups</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>nofparen</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <comment type="line">// Need not to call setSource() because</comment>
                                        <comment type="line">// a caller can not access this match instance.</comment>
                                        }
                                    </block>
                                </then>
                            </if>
                        </else>
                    </if>
                    <expr_stmt>
                        <expr>
                            <name><name>con</name>.
                                <name>match</name>
                            </name>
                            =
                            <name>match</name>
                        </expr>
                        ;
                    </expr_stmt>

                    <if>if
                        <condition>(
                            <expr>
                                <call>
                                    <name><name>RegularExpression</name>.
                                        <name>isSet</name>
                                    </name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>options</name>
                                                </name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>XMLSCHEMA_MODE</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>matchEnd</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.
                                                        <name>matchCharacterIterator</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>con</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>operations</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>1</expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>options</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <comment type="line">//System.err.println("DEBUG: matchEnd="+matchEnd);</comment>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>matchEnd</name>
                                            ==
                                            <name><name>con</name>.
                                                <name>limit</name>
                                            </name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>con</name>.
                                                            <name>match</name>
                                                        </name>
                                                        !=
                                                        <name>null</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>matchEnd</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>true</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </then>
                    </if>

                    <comment type="block">/*
                        * The pattern has only fixed string.
                        * The engine uses Boyer-Moore.
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>fixedStringOnly</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <comment type="line">//System.err.println("DEBUG: fixed-only: "+this.fixedString);
                                </comment>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>o</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>fixedStringTable</name>.
                                                        <name>matches</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>target</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>o</name>
                                            &gt;= 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>con</name>.
                                                            <name>match</name>
                                                        </name>
                                                        !=
                                                        <name>null</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>o</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        <expr_stmt>
                                                            <expr>
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>setEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>0</expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr><name>o</name>+
                                                                                <call>
                                                                                    <name><name>this</name>.<name>
                                                                                        fixedString</name>.
                                                                                        <name>length</name>
                                                                                    </name>
                                                                                    <argument_list>()</argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>true</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </then>
                    </if>

                    <comment type="block">/*
                        * The pattern contains a fixed string.
                        * The engine checks with Boyer-Moore whether the text contains the fixed string or not.
                        * If not, it return with false.
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>fixedString</name>
                                </name>
                                !=
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>o</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>fixedStringTable</name>.
                                                        <name>matches</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>target</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>o</name>
                                            &lt; 0
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <comment type="line">//System.err.println("Non-match in fixed-string
                                                search.");
                                            </comment>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>inuse</name>
                                                    </name>
                                                    = false
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <return>return <expr>false</expr>;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                }
                            </block>
                        </then>
                    </if>

                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name> =
                            <init>
                                <expr>
                                    <name><name>con</name>.
                                        <name>limit</name>
                                    </name>
                                    -
                                    <name><name>this</name>.
                                        <name>minlength</name>
                                    </name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>matchStart</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>matchEnd</name> =
                            <init>
                                <expr>-1</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>

                    <comment type="block">/*
                        * Checks whether the expression starts with ".*".
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>operations</name>
                                </name>
                                !=
                                <name>null</name>
                                &amp;&amp;
                                <name><name>this</name>.<name>operations</name>.
                                    <name>type</name>
                                </name>
                                ==
                                <name><name>Op</name>.
                                    <name>CLOSURE</name>
                                </name>
                                &amp;&amp;
                                <call>
                                    <name><name>this</name>.<name>operations</name>.
                                        <name>getChild</name>
                                    </name>
                                    <argument_list>()</argument_list>
                                </call>
                                .<name>type</name> ==
                                <name><name>Op</name>.
                                    <name>DOT</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <call>
                                                <name>isSet</name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name><name>this</name>.
                                                                <name>options</name>
                                                            </name>
                                                        </expr>
                                                    </argument>
                                                    ,
                                                    <argument>
                                                        <expr>
                                                            <name>SINGLE_LINE</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <name>matchStart</name>
                                                    =
                                                    <name><name>con</name>.
                                                        <name>start</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>matchEnd</name>
                                                    =
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharacterIterator</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>operations</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>con</name>.
                                                                        <name>start</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>options</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                    <else>else
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>boolean</name>
                                                    </type>
                                                    <name>previousIsEOL</name> =
                                                    <init>
                                                        <expr>true</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <for>for (
                                                <init>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        =
                                                        <name><name>con</name>.
                                                            <name>start</name>
                                                        </name>
                                                    </expr>
                                                    ;
                                                </init>
                                                <condition>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        &lt;=
                                                        <name>limit</name>
                                                    </expr>
                                                    ;
                                                </condition>
                                                <incr>
                                                    <expr>
                                                        <name>matchStart</name>
                                                        ++
                                                    </expr>
                                                </incr>
                                                )
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>setIndex</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>matchStart</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>previousIsEOL</name>
                                                                        = true
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>previousIsEOL</name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                                        <call>
                                                                                            <name><name>this</name>.
                                                                                                <name>
                                                                                                    matchCharacterIterator
                                                                                                </name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>con</name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name><name>
                                                                                                            this</name>.
                                                                                                            <name>
                                                                                                                operations
                                                                                                            </name>
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>
                                                                                                            matchStart
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>1</expr>
                                                                                                </argument>
                                                                                                ,
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name><name>
                                                                                                            this</name>.
                                                                                                            <name>
                                                                                                                options
                                                                                                            </name>
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        )
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <break>break;</break>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>previousIsEOL</name>
                                                                        = false
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </for>
                                            }
                                        </block>
                                    </else>
                                </if>
                                }
                            </block>
                        </then>

                        <comment type="block">/*
                            * Optimization against the first character.
                            */
                        </comment>
                        <else>else
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>firstChar</name>
                                        </name>
                                        !=
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <block>{
                                        <comment type="line">//System.err.println("DEBUG: with firstchar-matching:
                                            "+this.firstChar);
                                        </comment>
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>RangeToken</name>
                                                </type>
                                                <name>range</name> =
                                                <init>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>firstChar</name>
                                                        </name>
                                                    </expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name><name>RegularExpression</name>.
                                                            <name>isSet</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name><name>this</name>.
                                                                        <name>options</name>
                                                                    </name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>IGNORE_CASE</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>range</name>
                                                            =
                                                            <call>
                                                                <name><name>this</name>.<name>firstChar</name>.
                                                                    <name>getCaseInsensitiveToken</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <for>for (
                                                        <init>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                =
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </init>
                                                        <condition>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                &lt;=
                                                                <name>limit</name>
                                                            </expr>
                                                            ;
                                                        </condition>
                                                        <incr>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                ++
                                                            </expr>
                                                        </incr>
                                                        )
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ch</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>setIndex</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>matchStart</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>REUtil</name>.
                                                                                <name>isHighSurrogate</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        &amp;&amp; <name>matchStart</name>+1 &lt;
                                                                        <name><name>con</name>.
                                                                            <name>limit</name>
                                                                        </name>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <block>{
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <call>
                                                                                                    <name>
                                                                                                        <name>target
                                                                                                        </name>
                                                                                                        .
                                                                                                        <name>setIndex
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr><name>
                                                                                                                matchStart</name>
                                                                                                                +1
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                        <if>if
                                                                            <condition>(
                                                                                <expr>!
                                                                                    <call>
                                                                                        <name><name>range</name>.
                                                                                            <name>match</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>
                                                                                                    <name>ch</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                                )
                                                                            </condition>
                                                                            <then>
                                                                                <continue>continue;</continue>
                                                                            </then>
                                                                        </if>
                                                                        }
                                                                    </block>
                                                                </then>
                                                                <else>else
                                                                    <block>{
                                                                        <if>if
                                                                            <condition>(
                                                                                <expr>!
                                                                                    <call>
                                                                                        <name><name>range</name>.
                                                                                            <name>match</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>
                                                                                                    <name>ch</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                                )
                                                                            </condition>
                                                                            <then>
                                                                                <block>{
                                                                                    <decl_stmt>
                                                                                        <decl>
                                                                                            <type>
                                                                                                <name>char</name>
                                                                                            </type>
                                                                                            <name>ch1</name> =
                                                                                            <init>
                                                                                                <expr>
                                                                                                    <call>
                                                                                                        <name><name>
                                                                                                            Character</name>
                                                                                                            .
                                                                                                            <name>
                                                                                                                toUpperCase
                                                                                                            </name>
                                                                                                        </name>
                                                                                                        <argument_list>(
                                                                                                            <argument>
                                                                                                                <expr>
                                                                                                                    (<name>
                                                                                                                    char</name>)
                                                                                                                    <name>
                                                                                                                        ch
                                                                                                                    </name>
                                                                                                                </expr>
                                                                                                            </argument>
                                                                                                            )
                                                                                                        </argument_list>
                                                                                                    </call>
                                                                                                </expr>
                                                                                            </init>
                                                                                        </decl>
                                                                                        ;
                                                                                    </decl_stmt>
                                                                                    <if>if
                                                                                        <condition>(
                                                                                            <expr>!
                                                                                                <call>
                                                                                                    <name><name>
                                                                                                        range</name>.
                                                                                                        <name>match
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr>
                                                                                                                <name>
                                                                                                                    ch1
                                                                                                                </name>
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                            )
                                                                                        </condition>
                                                                                        <then>
                                                                                            <if>if
                                                                                                <condition>(
                                                                                                    <expr>!
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                range</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    match
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <call>
                                                                                                                            <name>
                                                                                                                                <name>
                                                                                                                                    Character</name>
                                                                                                                                .
                                                                                                                                <name>
                                                                                                                                    toLowerCase
                                                                                                                                </name>
                                                                                                                            </name>
                                                                                                                            <argument_list>
                                                                                                                                (
                                                                                                                                <argument>
                                                                                                                                    <expr>
                                                                                                                                        <name>
                                                                                                                                            ch1
                                                                                                                                        </name>
                                                                                                                                    </expr>
                                                                                                                                </argument>
                                                                                                                                )
                                                                                                                            </argument_list>
                                                                                                                        </call>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                    )
                                                                                                </condition>
                                                                                                <then>
                                                                                                    <continue>
                                                                                                        continue;
                                                                                                    </continue>
                                                                                                </then>
                                                                                            </if>
                                                                                        </then>
                                                                                    </if>
                                                                                    }
                                                                                </block>
                                                                            </then>
                                                                        </if>
                                                                        }
                                                                    </block>
                                                                </else>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                        <call>
                                                                            <name><name>this</name>.
                                                                                <name>matchCharacterIterator</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>con</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>operations</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>1</expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>options</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        )
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <break>break;</break>
                                                                </then>
                                                            </if>
                                                            }
                                                        </block>
                                                    </for>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <for>for (
                                                        <init>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                =
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </init>
                                                        <condition>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                &lt;=
                                                                <name>limit</name>
                                                            </expr>
                                                            ;
                                                        </condition>
                                                        <incr>
                                                            <expr>
                                                                <name>matchStart</name>
                                                                ++
                                                            </expr>
                                                        </incr>
                                                        )
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ch</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>setIndex</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>matchStart</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>REUtil</name>.
                                                                                <name>isHighSurrogate</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        &amp;&amp; <name>matchStart</name>+1 &lt;
                                                                        <name><name>con</name>.
                                                                            <name>limit</name>
                                                                        </name>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>ch</name>
                                                                            =
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>composeFromSurrogates</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>setIndex
                                                                                                    </name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr><name>
                                                                                                            matchStart</name>
                                                                                                            +1
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                </then>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>!
                                                                        <call>
                                                                            <name><name>range</name>.
                                                                                <name>match</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <continue>continue;</continue>
                                                                </then>
                                                            </if>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>0 &lt;= (<name>matchEnd</name> =
                                                                        <call>
                                                                            <name><name>this</name>.
                                                                                <name>matchCharacterIterator</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>con</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>operations</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>matchStart</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>1</expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>options</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                        )
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <break>break;</break>
                                                                </then>
                                                            </if>
                                                            }
                                                        </block>
                                                    </for>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        }
                                    </block>
                                </then>

                                <comment type="block">/*
                                    * Straightforward matching.
                                    */
                                </comment>
                                <else>else
                                    <block>{
                                        <for>for (
                                            <init>
                                                <expr>
                                                    <name>matchStart</name>
                                                    =
                                                    <name><name>con</name>.
                                                        <name>start</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </init>
                                            <condition>
                                                <expr>
                                                    <name>matchStart</name>
                                                    &lt;=
                                                    <name>limit</name>
                                                </expr>
                                                ;
                                            </condition>
                                            <incr>
                                                <expr>
                                                    <name>matchStart</name>
                                                    ++
                                                </expr>
                                            </incr>
                                            )
                                            <block>{
                                                <if>if
                                                    <condition>(
                                                        <expr>0 &lt;= (<name>matchEnd</name> =
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharacterIterator</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>this</name>.
                                                                                <name>operations</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>matchStart</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>1</expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>this</name>.
                                                                                <name>options</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                            )
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <break>break;</break>
                                                    </then>
                                                </if>
                                                }
                                            </block>
                                        </for>
                                        }
                                    </block>
                                </else>
                            </if>
                        </else>
                    </if>

                    <if>if
                        <condition>(
                            <expr>
                                <name>matchEnd</name>
                                &gt;= 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name><name>con</name>.
                                                <name>match</name>
                                            </name>
                                            !=
                                            <name>null</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>con</name>.<name>match</name>.
                                                            <name>setBeginning</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>0</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>matchStart</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>con</name>.<name>match</name>.
                                                            <name>setEnd</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>0</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>matchEnd</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>true</expr>;
                                </return>
                                }
                            </block>
                        </then>
                        <else>else
                            <block>{
                                <expr_stmt>
                                    <expr>
                                        <name><name>con</name>.
                                            <name>inuse</name>
                                        </name>
                                        = false
                                    </expr>
                                    ;
                                </expr_stmt>
                                <return>return <expr>false</expr>;
                                </return>
                                }
                            </block>
                        </else>
                    </if>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * @return -1 when not match; offset of the end of matched string when match.
                */
            </comment>
            <function>
                <type>
                    <specifier>private</specifier>
                    <name>int</name>
                </type>
                <name>matchCharacterIterator</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>Context</name>
                            </type>
                            <name>con</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Op</name>
                            </type>
                            <name>op</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>dx</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{


                    <decl_stmt>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name> =
                            <init>
                                <expr>
                                    <name><name>con</name>.
                                        <name>ciTarget</name>
                                    </name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>


                    <while>while
                        <condition>(<expr>true</expr>)
                        </condition>
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>op</name>
                                        ==
                                        <name>null</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return
                                        <expr>
                                            <call>
                                                <name>isSet</name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>opts</name>
                                                        </expr>
                                                    </argument>
                                                    ,
                                                    <argument>
                                                        <expr>
                                                            <name>XMLSCHEMA_MODE</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                            &amp;&amp; <name>offset</name> !=
                                            <name><name>con</name>.
                                                <name>limit</name>
                                            </name>
                                            ? -1 :
                                            <name>offset</name>
                                        </expr>
                                        ;
                                    </return>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>offset</name>
                                        &gt;
                                        <name><name>con</name>.
                                            <name>limit</name>
                                        </name>
                                        || <name>offset</name> &lt;
                                        <name><name>con</name>.
                                            <name>start</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>-1</expr>;
                                    </return>
                                </then>
                            </if>
                            <switch>switch
                                <condition>(
                                    <expr>
                                        <name><name>op</name>.
                                            <name>type</name>
                                        </name>
                                    </expr>
                                    )
                                </condition>
                                <block>{
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CHAR</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name>isSet</name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>IGNORE_CASE</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getData</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>dx</name>
                                                                &gt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || !
                                                                            <call>
                                                                                <name>matchIgnoreCase</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>setIndex
                                                                                                    </name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>
                                                                                                                offset
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        ++
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>o1</name> =
                                                                        <init>
                                                                            <expr><name>offset</name>-1
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>o1</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>o1</name> &lt; 0 || !
                                                                            <call>
                                                                                <name>matchIgnoreCase</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>setIndex
                                                                                                    </name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>o1
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        =
                                                                        <name>o1</name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getData</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>dx</name>
                                                                &gt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>ch</name> !=
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>setIndex</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        ++
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>o1</name> =
                                                                        <init>
                                                                            <expr><name>offset</name>-1
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>o1</name>
                                                                            &gt;=
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>o1</name> &lt; 0 || <name>ch</name> !=
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>setIndex</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>o1</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>offset</name>
                                                                        =
                                                                        <name>o1</name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>DOT</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name>dx</name>
                                                    &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>setIndex</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>SINGLE_LINE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isHighSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>offset</name>+1 &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                                ++
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isHighSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>offset</name>+1 &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <call>
                                                                                                    <name>
                                                                                                        <name>target
                                                                                                        </name>
                                                                                                        .
                                                                                                        <name>setIndex
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr>++
                                                                                                                <name>
                                                                                                                    offset
                                                                                                                </name>
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            ++
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>o1</name> =
                                                            <init>
                                                                <expr><name>offset</name>-1
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>o1</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>o1</name> &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>setIndex</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>o1</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>SINGLE_LINE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isLowSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>o1</name>
                                                                                --
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>REUtil</name>.
                                                                                    <name>isLowSurrogate</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <expr_stmt>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                                =
                                                                                <call>
                                                                                    <name><name>REUtil</name>.
                                                                                        <name>composeFromSurrogates
                                                                                        </name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <call>
                                                                                                    <name>
                                                                                                        <name>target
                                                                                                        </name>
                                                                                                        .
                                                                                                        <name>setIndex
                                                                                                        </name>
                                                                                                    </name>
                                                                                                    <argument_list>(
                                                                                                        <argument>
                                                                                                            <expr>--
                                                                                                                <name>
                                                                                                                    o1
                                                                                                                </name>
                                                                                                            </expr>
                                                                                                        </argument>
                                                                                                        )
                                                                                                    </argument_list>
                                                                                                </call>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>ch</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            ;
                                                                        </expr_stmt>
                                                                    </then>
                                                                </if>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            =
                                                            <name>o1</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>RANGE</name>
                                            </name>
                                        </expr>
                                        :
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NRANGE</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name>dx</name>
                                                    &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>setIndex</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name><name>REUtil</name>.
                                                                        <name>isHighSurrogate</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &amp;&amp; <name>offset</name>+1 &lt;
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>ch</name>
                                                                    =
                                                                    <call>
                                                                        <name><name>REUtil</name>.
                                                                            <name>composeFromSurrogates</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>ch</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <call>
                                                                                        <name>
                                                                                            <name>target</name>
                                                                                            .
                                                                                            <name>setIndex</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>++
                                                                                                    <name>offset</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>RangeToken</name>
                                                            </type>
                                                            <name>tok</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getToken</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>IGNORE_CASE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>tok</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getCaseInsensitiveToken</name>
                                                                            </name>
                                                                            <argument_list>()</argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                        &gt;= 0x10000
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            <decl_stmt>
                                                                                <decl>
                                                                                    <type>
                                                                                        <name>char</name>
                                                                                    </type>
                                                                                    <name>uch</name>
                                                                                </decl>
                                                                                ;
                                                                            </decl_stmt>
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>!
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>uch</name>
                                                                                                        =
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toUpperCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        (<name>
                                                                                                                        char</name>)
                                                                                                                        <name>
                                                                                                                            ch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        &amp;&amp; !
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toLowerCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <name>
                                                                                                                            uch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            ++
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>o1</name> =
                                                            <init>
                                                                <expr><name>offset</name>-1
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>o1</name>
                                                                &gt;=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>o1</name> &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ch</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name>
                                                                            <name>target</name>
                                                                            .
                                                                            <name>setIndex</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>o1</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name><name>REUtil</name>.
                                                                        <name>isLowSurrogate</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>ch</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &amp;&amp; <name>o1</name>-1 &gt;= 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>ch</name>
                                                                    =
                                                                    <call>
                                                                        <name><name>REUtil</name>.
                                                                            <name>composeFromSurrogates</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <call>
                                                                                        <name>
                                                                                            <name>target</name>
                                                                                            .
                                                                                            <name>setIndex</name>
                                                                                        </name>
                                                                                        <argument_list>(
                                                                                            <argument>
                                                                                                <expr>--
                                                                                                    <name>o1</name>
                                                                                                </expr>
                                                                                            </argument>
                                                                                            )
                                                                                        </argument_list>
                                                                                    </call>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>ch</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>RangeToken</name>
                                                            </type>
                                                            <name>tok</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getToken</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>IGNORE_CASE</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>tok</name>
                                                                        =
                                                                        <call>
                                                                            <name><name>tok</name>.
                                                                                <name>getCaseInsensitiveToken</name>
                                                                            </name>
                                                                            <argument_list>()</argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <block>{
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>
                                                                                        <name>ch</name>
                                                                                        &gt;= 0x10000
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            <decl_stmt>
                                                                                <decl>
                                                                                    <type>
                                                                                        <name>char</name>
                                                                                    </type>
                                                                                    <name>uch</name>
                                                                                </decl>
                                                                                ;
                                                                            </decl_stmt>
                                                                            <if>if
                                                                                <condition>(
                                                                                    <expr>!
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name>uch</name>
                                                                                                        =
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toUpperCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        (<name>
                                                                                                                        char</name>)
                                                                                                                        <name>
                                                                                                                            ch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        &amp;&amp; !
                                                                                        <call>
                                                                                            <name><name>tok</name>.
                                                                                                <name>match</name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <call>
                                                                                                            <name><name>
                                                                                                                Character</name>
                                                                                                                .
                                                                                                                <name>
                                                                                                                    toLowerCase
                                                                                                                </name>
                                                                                                            </name>
                                                                                                            <argument_list>
                                                                                                                (
                                                                                                                <argument>
                                                                                                                    <expr>
                                                                                                                        <name>
                                                                                                                            uch
                                                                                                                        </name>
                                                                                                                    </expr>
                                                                                                                </argument>
                                                                                                                )
                                                                                                            </argument_list>
                                                                                                        </call>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                    </expr>
                                                                                    )
                                                                                </condition>
                                                                                <then>
                                                                                    <return>return <expr>-1</expr>;
                                                                                    </return>
                                                                                </then>
                                                                            </if>
                                                                            }
                                                                        </block>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!
                                                                            <call>
                                                                                <name><name>tok</name>.
                                                                                    <name>match</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>ch</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>offset</name>
                                                            =
                                                            <name>o1</name>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>ANCHOR</name>
                                            </name>
                                        </expr>
                                        :
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>boolean</name>
                                                </type>
                                                <name>go</name> =
                                                <init>
                                                    <expr>false</expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <switch>switch
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <block>{
                                                <case>case <expr>'^'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>MULTIPLE_LINES</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                            || <name>offset</name> &gt;
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>setIndex
                                                                                                    </name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr><name>
                                                                                                            offset</name>
                                                                                                            -1
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            )
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            !=
                                                                            <name><name>con</name>.
                                                                                <name>start</name>
                                                                            </name>
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'@'</expr>:
                                                    <comment type="line">// Internal use only.</comment>
                                                    <comment type="line">// The @ always matches line beginnings.
                                                    </comment>
                                                    <if>if
                                                        <condition>(
                                                            <expr>!(<name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                                || <name>offset</name> &gt;
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name>
                                                                                        <name>target</name>
                                                                                        .
                                                                                        <name>setIndex</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-1
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                )
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'$'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>isSet</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>MULTIPLE_LINES</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>offset</name> &lt;
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>setIndex
                                                                                                    </name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>
                                                                                                                offset
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            )
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <if>if
                                                                    <condition>(
                                                                        <expr>!(<name>offset</name> ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            || <name>offset</name>+1 ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>isEOLChar</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <call>
                                                                                                <name>
                                                                                                    <name>target</name>
                                                                                                    .
                                                                                                    <name>setIndex
                                                                                                    </name>
                                                                                                </name>
                                                                                                <argument_list>(
                                                                                                    <argument>
                                                                                                        <expr>
                                                                                                            <name>
                                                                                                                offset
                                                                                                            </name>
                                                                                                        </expr>
                                                                                                    </argument>
                                                                                                    )
                                                                                                </argument_list>
                                                                                            </call>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            || <name>offset</name>+2 ==
                                                                            <name><name>con</name>.
                                                                                <name>limit</name>
                                                                            </name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>setIndex</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            ==
                                                                            <name>CARRIAGE_RETURN</name>
                                                                            &amp;&amp;
                                                                            <call>
                                                                                <name>
                                                                                    <name>target</name>
                                                                                    .
                                                                                    <name>setIndex</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr><name>offset</name>+1
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                            == <name>LINE_FEED</name>)
                                                                        </expr>
                                                                        )
                                                                    </condition>
                                                                    <then>
                                                                        <return>return <expr>-1</expr>;
                                                                        </return>
                                                                    </then>
                                                                </if>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'A'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                !=
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'Z'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>!(<name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                || <name>offset</name>+1 ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>isEOLChar</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name>
                                                                                        <name>target</name>
                                                                                        .
                                                                                        <name>setIndex</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                || <name>offset</name>+2 ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>
                                                                        <name>target</name>
                                                                        .
                                                                        <name>setIndex</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                ==
                                                                <name>CARRIAGE_RETURN</name>
                                                                &amp;&amp;
                                                                <call>
                                                                    <name>
                                                                        <name>target</name>
                                                                        .
                                                                        <name>setIndex</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr><name>offset</name>+1
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                == <name>LINE_FEED</name>)
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'z'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>offset</name>
                                                                !=
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'b'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <block>{
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>after</name> =
                                                                <init>
                                                                    <expr>
                                                                        <call>
                                                                            <name>getWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>after</name>
                                                                    ==
                                                                    <name>WT_IGNORE</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <return>return <expr>-1</expr>;
                                                                </return>
                                                            </then>
                                                        </if>
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>before</name> =
                                                                <init>
                                                                    <expr>
                                                                        <call>
                                                                            <name>getPreviousWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>after</name>
                                                                    ==
                                                                    <name>before</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <return>return <expr>-1</expr>;
                                                                </return>
                                                            </then>
                                                        </if>
                                                        }
                                                    </block>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'B'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <name>go</name>
                                                                    = true
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <decl_stmt>
                                                                    <decl>
                                                                        <type>
                                                                            <name>int</name>
                                                                        </type>
                                                                        <name>after</name> =
                                                                        <init>
                                                                            <expr>
                                                                                <call>
                                                                                    <name>getWordType</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>start</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>opts</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </init>
                                                                    </decl>
                                                                    ;
                                                                </decl_stmt>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>go</name>
                                                                        = <name>after</name> ==
                                                                        <name>WT_IGNORE</name>
                                                                        || <name>after</name> ==
                                                                        <call>
                                                                            <name>getPreviousWordType</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>target</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>start</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>con</name>.
                                                                                            <name>limit</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>offset</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                ,
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name>opts</name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>!
                                                                <name>go</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'&lt;'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0 || <name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>limit</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>getWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_LETTER</name>
                                                                ||
                                                                <call>
                                                                    <name>getPreviousWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_OTHER</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>

                                                </case>
                                                <case>case <expr>'&gt;'</expr>:
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>con</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                == 0 || <name>offset</name> ==
                                                                <name><name>con</name>.
                                                                    <name>start</name>
                                                                </name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <call>
                                                                    <name>getWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_OTHER</name>
                                                                ||
                                                                <call>
                                                                    <name>getPreviousWordType</name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>target</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>start</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>con</name>.
                                                                                    <name>limit</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                !=
                                                                <name>WT_LETTER</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <return>return <expr>-1</expr>;
                                                            </return>
                                                        </then>
                                                    </if>
                                                    <break>break;</break>
                                                </case>
                                                }
                                            </block>
                                        </switch>
                                        <comment type="line">// switch anchor type</comment>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>BACKREFERENCE</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>refno</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getData</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>refno</name>
                                                        &lt;= 0 || <name>refno</name> &gt;=
                                                        <name><name>this</name>.
                                                            <name>nofparen</name>
                                                        </name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <throw>throw
                                                        <expr>new
                                                            <call>
                                                                <name>RuntimeException</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>"Internal Error: Reference number must be
                                                                            more than zero: "+
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </throw>
                                                </then>
                                            </if>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <call>
                                                            <name><name>con</name>.<name>match</name>.
                                                                <name>getBeginning</name>
                                                            </name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>refno</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                        &lt; 0
                                                        ||
                                                        <call>
                                                            <name><name>con</name>.<name>match</name>.
                                                                <name>getEnd</name>
                                                            </name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>refno</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return <expr>-1</expr>;
                                                    </return>
                                                </then>
                                            </if>
                                            <comment type="line">// ********</comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>o2</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>getBeginning</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>literallen</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>getEnd</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                            -
                                                            <name>o2</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>!
                                                        <call>
                                                            <name>isSet</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>opts</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>IGNORE_CASE</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>o2</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>STRING</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>String</name>
                                                    </type>
                                                    <name>literal</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getString</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>literallen</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>literal</name>.
                                                                    <name>length</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>!
                                                        <call>
                                                            <name>isSet</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name>opts</name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>IGNORE_CASE</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatches</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>dx</name>
                                                                    &gt; 0
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>offset</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            +=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <if>if
                                                                        <condition>(
                                                                            <expr>!
                                                                                <call>
                                                                                    <name>regionMatchesIgnoreCase</name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>target</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr><name>offset</name>-
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name><name>con</name>.
                                                                                                    <name>limit</name>
                                                                                                </name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literal</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        ,
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>literallen</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                            )
                                                                        </condition>
                                                                        <then>
                                                                            <return>return <expr>-1</expr>;
                                                                            </return>
                                                                        </then>
                                                                    </if>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                            -=
                                                                            <name>literallen</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CLOSURE</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <comment type="block">/*
                                                * Saves current position to avoid
                                                * zero-width repeats.
                                                */
                                            </comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>id</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>op</name>.
                                                                    <name>getData</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>id</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <decl_stmt>
                                                            <decl>
                                                                <type>
                                                                    <name>int</name>
                                                                </type>
                                                                <name>previousOffset</name> =
                                                                <init>
                                                                    <expr>
                                                                        <name><name>con</name>.
                                                                            <name>offsets</name>
                                                                            <index>[
                                                                                <expr>
                                                                                    <name>id</name>
                                                                                </expr>
                                                                                ]
                                                                            </index>
                                                                        </name>
                                                                    </expr>
                                                                </init>
                                                            </decl>
                                                            ;
                                                        </decl_stmt>
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name>previousOffset</name>
                                                                    &lt; 0 || <name>previousOffset</name> !=
                                                                    <name>offset</name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <block>{
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name><name>con</name>.
                                                                                <name>offsets</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>id</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            =
                                                                            <name>offset</name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    }
                                                                </block>
                                                            </then>
                                                            <else>else
                                                                <block>{
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name><name>con</name>.
                                                                                <name>offsets</name>
                                                                                <index>[
                                                                                    <expr>
                                                                                        <name>id</name>
                                                                                    </expr>
                                                                                    ]
                                                                                </index>
                                                                            </name>
                                                                            = -1
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <name>op</name>
                                                                            =
                                                                            <name><name>op</name>.
                                                                                <name>next</name>
                                                                            </name>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                    <break>break;</break>
                                                                    }
                                                                </block>
                                                            </else>
                                                        </if>
                                                        }
                                                    </block>
                                                </then>
                                            </if>

                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharacterIterator</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>id</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name><name>con</name>.
                                                                <name>offsets</name>
                                                                <index>[
                                                                    <expr>
                                                                        <name>id</name>
                                                                    </expr>
                                                                    ]
                                                                </index>
                                                            </name>
                                                            = -1
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                </then>
                                            </if>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>QUESTION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharacterIterator</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NONGREEDYCLOSURE</name>
                                            </name>
                                        </expr>
                                        :
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NONGREEDYQUESTION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharacterIterator</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>op</name>.
                                                                                <name>next</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &gt;= 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getChild</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>UNION</name>
                                            </name>
                                        </expr>
                                        :
                                        <for>for (
                                            <init>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>i</name> =
                                                    <init>
                                                        <expr>0</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </init>
                                            <condition>
                                                <expr>
                                                    <name>i</name>
                                                    &lt;
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>size</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </condition>
                                            <incr>
                                                <expr>
                                                    <name>i</name>
                                                    ++
                                                </expr>
                                            </incr>
                                            )
                                            <block>{
                                                <decl_stmt>
                                                    <decl>
                                                        <type>
                                                            <name>int</name>
                                                        </type>
                                                        <name>ret</name> =
                                                        <init>
                                                            <expr>
                                                                <call>
                                                                    <name><name>this</name>.
                                                                        <name>matchCharacterIterator</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>con</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <call>
                                                                                    <name><name>op</name>.
                                                                                        <name>elementAt</name>
                                                                                    </name>
                                                                                    <argument_list>(
                                                                                        <argument>
                                                                                            <expr>
                                                                                                <name>i</name>
                                                                                            </expr>
                                                                                        </argument>
                                                                                        )
                                                                                    </argument_list>
                                                                                </call>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>dx</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                        </init>
                                                    </decl>
                                                    ;
                                                </decl_stmt>
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name>DEBUG</name>
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <block>{
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>System</name>.<name>err</name>.
                                                                            <name>println</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>"UNION: "+<name>i</name>+", ret="+
                                                                                    <name>ret</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                            }
                                                        </block>
                                                    </then>
                                                </if>
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name>ret</name>
                                                            &gt;= 0
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <return>return
                                                            <expr>
                                                                <name>ret</name>
                                                            </expr>
                                                            ;
                                                        </return>
                                                    </then>
                                                </if>
                                                }
                                            </block>
                                        </for>
                                        <return>return <expr>-1</expr>;
                                        </return>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CAPTURE</name>
                                            </name>
                                        </expr>
                                        :
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name>int</name>
                                                </type>
                                                <name>refno</name> =
                                                <init>
                                                    <expr>
                                                        <call>
                                                            <name><name>op</name>.
                                                                <name>getData</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name><name>con</name>.
                                                        <name>match</name>
                                                    </name>
                                                    != <name>null</name> &amp;&amp; <name>refno</name> &gt; 0
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>save</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>getBeginning</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>refno</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <call>
                                                                <name><name>con</name>.<name>match</name>.
                                                                    <name>setBeginning</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>int</name>
                                                            </type>
                                                            <name>ret</name> =
                                                            <init>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>this</name>.
                                                                            <name>matchCharacterIterator</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>con</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name><name>op</name>.
                                                                                        <name>next</name>
                                                                                    </name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>dx</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>opts</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>ret</name>
                                                                &lt; 0
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>setBeginning</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>refno</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>save</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                        </then>
                                                    </if>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <if>if
                                                    <condition>(
                                                        <expr>
                                                            <name><name>con</name>.
                                                                <name>match</name>
                                                            </name>
                                                            != <name>null</name> &amp;&amp; <name>refno</name> &lt; 0
                                                        </expr>
                                                        )
                                                    </condition>
                                                    <then>
                                                        <block>{
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>index</name> =
                                                                    <init>
                                                                        <expr>-
                                                                            <name>refno</name>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>save</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>con</name>.<name>
                                                                                    match</name>.
                                                                                    <name>getEnd</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>index</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <expr_stmt>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>con</name>.<name>match</name>.
                                                                            <name>setEnd</name>
                                                                        </name>
                                                                        <argument_list>(
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>index</name>
                                                                                </expr>
                                                                            </argument>
                                                                            ,
                                                                            <argument>
                                                                                <expr>
                                                                                    <name>offset</name>
                                                                                </expr>
                                                                            </argument>
                                                                            )
                                                                        </argument_list>
                                                                    </call>
                                                                </expr>
                                                                ;
                                                            </expr_stmt>
                                                            <decl_stmt>
                                                                <decl>
                                                                    <type>
                                                                        <name>int</name>
                                                                    </type>
                                                                    <name>ret</name> =
                                                                    <init>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>this</name>.
                                                                                    <name>matchCharacterIterator</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>con</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name><name>op</name>.
                                                                                                <name>next</name>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>offset</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>dx</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>opts</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </init>
                                                                </decl>
                                                                ;
                                                            </decl_stmt>
                                                            <if>if
                                                                <condition>(
                                                                    <expr>
                                                                        <name>ret</name>
                                                                        &lt; 0
                                                                    </expr>
                                                                    )
                                                                </condition>
                                                                <then>
                                                                    <expr_stmt>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>con</name>.<name>
                                                                                    match</name>.
                                                                                    <name>setEnd</name>
                                                                                </name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>index</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>save</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                        ;
                                                                    </expr_stmt>
                                                                </then>
                                                            </if>
                                                            <return>return
                                                                <expr>
                                                                    <name>ret</name>
                                                                </expr>
                                                                ;
                                                            </return>
                                                            }
                                                        </block>
                                                    </then>
                                                </if>
                                            </else>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>LOOKAHEAD</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &gt;
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharacterIterator</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NEGATIVELOOKAHEAD</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &lt;=
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharacterIterator</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>LOOKBEHIND</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &gt;
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharacterIterator</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>-1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>
                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>NEGATIVELOOKBEHIND</name>
                                            </name>
                                        </expr>
                                        :
                                        <if>if
                                            <condition>(
                                                <expr>0 &lt;=
                                                    <call>
                                                        <name><name>this</name>.
                                                            <name>matchCharacterIterator</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>con</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <call>
                                                                        <name><name>op</name>.
                                                                            <name>getChild</name>
                                                                        </name>
                                                                        <argument_list>()</argument_list>
                                                                    </call>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>offset</name>
                                                                </expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>-1</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>
                                                                    <name>opts</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <return>return <expr>-1</expr>;
                                                </return>
                                            </then>
                                        </if>
                                        <expr_stmt>
                                            <expr>
                                                <name>op</name>
                                                =
                                                <name><name>op</name>.
                                                    <name>next</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>INDEPENDENT</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharacterIterator</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>opts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>offset</name>
                                                    =
                                                    <name>ret</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>MODIFIER</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>localopts</name> =
                                                    <init>
                                                        <expr>
                                                            <name>opts</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>localopts</name>
                                                    |=
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>localopts</name>
                                                    &amp;= ~
                                                    <call>
                                                        <name><name>op</name>.
                                                            <name>getData2</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <comment type="line">//System.err.println("MODIFIER:
                                                "+Integer.toString(opts, 16)+" -&gt; "+Integer.toString(localopts, 16));
                                            </comment>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>int</name>
                                                    </type>
                                                    <name>ret</name> =
                                                    <init>
                                                        <expr>
                                                            <call>
                                                                <name><name>this</name>.
                                                                    <name>matchCharacterIterator</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>con</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>op</name>.
                                                                                    <name>getChild</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>offset</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>dx</name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <name>localopts</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>ret</name>
                                                        &lt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <return>return
                                                        <expr>
                                                            <name>ret</name>
                                                        </expr>
                                                        ;
                                                    </return>
                                                </then>
                                            </if>
                                            <expr_stmt>
                                                <expr>
                                                    <name>offset</name>
                                                    =
                                                    <name>ret</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name>op</name>
                                                    =
                                                    <name><name>op</name>.
                                                        <name>next</name>
                                                    </name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <case>case
                                        <expr>
                                            <name><name>Op</name>.
                                                <name>CONDITION</name>
                                            </name>
                                        </expr>
                                        :
                                        <block>{
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name><name>Op</name>.
                                                            <name>ConditionOp</name>
                                                        </name>
                                                    </type>
                                                    <name>cop</name> =
                                                    <init>
                                                        <expr>(
                                                            <name><name>Op</name>.
                                                                <name>ConditionOp</name>
                                                            </name>
                                                            )
                                                            <name>op</name>
                                                        </expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <decl_stmt>
                                                <decl>
                                                    <type>
                                                        <name>boolean</name>
                                                    </type>
                                                    <name>matchp</name> =
                                                    <init>
                                                        <expr>false</expr>
                                                    </init>
                                                </decl>
                                                ;
                                            </decl_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name><name>cop</name>.
                                                            <name>refNumber</name>
                                                        </name>
                                                        &gt; 0
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <if>if
                                                            <condition>(
                                                                <expr>
                                                                    <name><name>cop</name>.
                                                                        <name>refNumber</name>
                                                                    </name>
                                                                    &gt;=
                                                                    <name><name>this</name>.
                                                                        <name>nofparen</name>
                                                                    </name>
                                                                </expr>
                                                                )
                                                            </condition>
                                                            <then>
                                                                <throw>throw
                                                                    <expr>new
                                                                        <call>
                                                                            <name>RuntimeException</name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>"Internal Error: Reference
                                                                                        number must be more than zero:
                                                                                        "+
                                                                                        <name><name>cop</name>.
                                                                                            <name>refNumber</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </throw>
                                                            </then>
                                                        </if>
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>matchp</name>
                                                                =
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>getBeginning</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>refNumber</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &gt;= 0
                                                                &amp;&amp;
                                                                <call>
                                                                    <name><name>con</name>.<name>match</name>.
                                                                        <name>getEnd</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>refNumber</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                                &gt;= 0
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>matchp</name>
                                                                = 0 &lt;=
                                                                <call>
                                                                    <name><name>this</name>.
                                                                        <name>matchCharacterIterator</name>
                                                                    </name>
                                                                    <argument_list>(
                                                                        <argument>
                                                                            <expr>
                                                                                <name>con</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name><name>cop</name>.
                                                                                    <name>condition</name>
                                                                                </name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>offset</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>dx</name>
                                                                            </expr>
                                                                        </argument>
                                                                        ,
                                                                        <argument>
                                                                            <expr>
                                                                                <name>opts</name>
                                                                            </expr>
                                                                        </argument>
                                                                        )
                                                                    </argument_list>
                                                                </call>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </else>
                                            </if>

                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>matchp</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <block>{
                                                        <expr_stmt>
                                                            <expr>
                                                                <name>op</name>
                                                                =
                                                                <name><name>cop</name>.
                                                                    <name>yes</name>
                                                                </name>
                                                            </expr>
                                                            ;
                                                        </expr_stmt>
                                                        }
                                                    </block>
                                                </then>
                                                <else>else
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name><name>cop</name>.
                                                                    <name>no</name>
                                                                </name>
                                                                !=
                                                                <name>null</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <name><name>cop</name>.
                                                                            <name>no</name>
                                                                        </name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                        <else>else
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <name>op</name>
                                                                        =
                                                                        <name><name>cop</name>.
                                                                            <name>next</name>
                                                                        </name>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </else>
                                                    </if>
                                                </else>
                                            </if>
                                            }
                                        </block>
                                        <break>break;</break>

                                    </case>
                                    <default>default:
                                        <throw>throw
                                            <expr>new
                                                <call>
                                                    <name>RuntimeException</name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>"Unknown operation type: "+
                                                                <name><name>op</name>.
                                                                    <name>type</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </throw>
                                    </default>
                                    }
                                </block>
                            </switch>
                            <comment type="line">// switch (op.type)</comment>
                            }
                        </block>
                    </while>
                    <comment type="line">// while</comment>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>int</name>
                </type>
                <name>getPreviousWordType</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>begin</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>ret</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name>getWordType</name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>target</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>begin</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>end</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>--
                                                    <name>offset</name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name>opts</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr>
                                <name>ret</name>
                                ==
                                <name>WT_IGNORE</name>
                            </expr>
                            )
                        </condition>
                        <expr_stmt>
                            <expr>
                                <name>ret</name>
                                =
                                <call>
                                    <name>getWordType</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>target</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>begin</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>end</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>--
                                                <name>offset</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>opts</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            ;
                        </expr_stmt>
                    </while>
                    <return>return
                        <expr>
                            <name>ret</name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>int</name>
                </type>
                <name>getWordType</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>begin</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>end</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; <name>begin</name> || <name>offset</name> &gt;=
                                <name>end</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return
                                <expr>
                                    <name>WT_OTHER</name>
                                </expr>
                                ;
                            </return>
                        </then>
                    </if>
                    <return>return
                        <expr>
                            <call>
                                <name>getWordType0</name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <call>
                                                <name>
                                                    <name>target</name>
                                                    .
                                                    <name>setIndex</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>offset</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>opts</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>


            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>part</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>0</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <call>
                                            <name>
                                                <name>target</name>
                                                .
                                                <name>setIndex</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr><name>offset</name>++
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        !=
                                        <call>
                                            <name><name>part</name>.
                                                <name>charAt</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr><name>i</name>++
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatches</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset2</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>
                                    <name>offset2</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <if>if
                                <condition>(
                                    <expr>
                                        <call>
                                            <name>
                                                <name>target</name>
                                                .
                                                <name>setIndex</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr><name>offset</name>++
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        !=
                                        <call>
                                            <name>
                                                <name>target</name>
                                                .
                                                <name>setIndex</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr><name>i</name>++
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * @see java.lang.String#regionMatches
                */
            </comment>
            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatchesIgnoreCase</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>part</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>0</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch1</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name>
                                                    <name>target</name>
                                                    .
                                                    <name>setIndex</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr><name>offset</name>++
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch2</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>part</name>.
                                                    <name>charAt</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr><name>i</name>++
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>ch1</name>
                                        ==
                                        <name>ch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch1</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch1</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch2</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch2</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>uch1</name>
                                        ==
                                        <name>uch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch1</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        !=
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch2</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>regionMatchesIgnoreCase</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>target</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>offset2</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>partlen</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>offset</name>
                                &lt; 0
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr><name>limit</name>-<name>offset</name> &lt;
                                <name>partlen</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>i</name> =
                            <init>
                                <expr>
                                    <name>offset2</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <while>while
                        <condition>(
                            <expr><name>partlen</name>-- &gt; 0
                            </expr>
                            )
                        </condition>
                        <block>{
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch1</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name>
                                                    <name>target</name>
                                                    .
                                                    <name>setIndex</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr><name>offset</name>++
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>ch2</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name>
                                                    <name>target</name>
                                                    .
                                                    <name>setIndex</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr><name>i</name>++
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>ch1</name>
                                        ==
                                        <name>ch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch1</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch1</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <decl_stmt>
                                <decl>
                                    <type>
                                        <name>char</name>
                                    </type>
                                    <name>uch2</name> =
                                    <init>
                                        <expr>
                                            <call>
                                                <name><name>Character</name>.
                                                    <name>toUpperCase</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>ch2</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </init>
                                </decl>
                                ;
                            </decl_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name>uch1</name>
                                        ==
                                        <name>uch2</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <continue>continue;</continue>
                                </then>
                            </if>
                            <if>if
                                <condition>(
                                    <expr>
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch1</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        !=
                                        <call>
                                            <name><name>Character</name>.
                                                <name>toLowerCase</name>
                                            </name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>uch2</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <return>return <expr>false</expr>;
                                    </return>
                                </then>
                            </if>
                            }
                        </block>
                    </while>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>


            <comment type="line">// ================================================================</comment>

            <comment type="javadoc">/**
                * A regular expression.
                * @serial
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <name>String</name>
                    </type>
                    <name>regex</name>
                </decl>
                ;
            </decl_stmt>
            <comment type="javadoc">/**
                * @serial
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <name>int</name>
                    </type>
                    <name>options</name>
                </decl>
                ;
            </decl_stmt>

            <comment type="javadoc">/**
                * The number of parenthesis in the regular expression.
                * @serial
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <name>int</name>
                    </type>
                    <name>nofparen</name>
                </decl>
                ;
            </decl_stmt>
            <comment type="javadoc">/**
                * Internal representation of the regular expression.
                * @serial
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <name>Token</name>
                    </type>
                    <name>tokentree</name>
                </decl>
                ;
            </decl_stmt>

            <decl_stmt>
                <decl>
                    <type>
                        <name>boolean</name>
                    </type>
                    <name>hasBackReferences</name> =
                    <init>
                        <expr>false</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>int</name>
                    </type>
                    <name>minlength</name>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>Op</name>
                    </type>
                    <name>operations</name> =
                    <init>
                        <expr>
                            <name>null</name>
                        </expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>int</name>
                    </type>
                    <name>numberOfClosures</name>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>Context</name>
                    </type>
                    <name>context</name> =
                    <init>
                        <expr>
                            <name>null</name>
                        </expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>RangeToken</name>
                    </type>
                    <name>firstChar</name> =
                    <init>
                        <expr>
                            <name>null</name>
                        </expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>String</name>
                    </type>
                    <name>fixedString</name> =
                    <init>
                        <expr>
                            <name>null</name>
                        </expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>int</name>
                    </type>
                    <name>fixedStringOptions</name>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>BMPattern</name>
                    </type>
                    <name>fixedStringTable</name> =
                    <init>
                        <expr>
                            <name>null</name>
                        </expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <name>transient</name>
                        <name>boolean</name>
                    </type>
                    <name>fixedStringOnly</name> =
                    <init>
                        <expr>false</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>


            <class>
                <specifier>static</specifier>
                <specifier>final</specifier> class <name>Context</name>
                <block>{
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>CharacterIterator</name>
                            </type>
                            <name>ciTarget</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>strTarget</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>char</name>
                                <index>[]</index>
                            </type>
                            <name>charTarget</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>start</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>limit</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>length</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>Match</name>
                            </type>
                            <name>match</name>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>boolean</name>
                            </type>
                            <name>inuse</name> =
                            <init>
                                <expr>false</expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>int</name>
                                <index>[]</index>
                            </type>
                            <name>offsets</name>
                        </decl>
                        ;
                    </decl_stmt>

                    <constructor>
                        <name>Context</name>
                        <parameter_list>()</parameter_list>
                        <block>{
                            }
                        </block>
                    </constructor>

                    <function>
                        <type>
                            <specifier>private</specifier>
                            <name>void</name>
                        </type>
                        <name>resetCommon</name>
                        <parameter_list>(
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>nofclosures</name>
                                </decl>
                            </param>
                            )
                        </parameter_list>
                        <block>{
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>length</name>
                                    </name>
                                    =
                                    <name><name>this</name>.
                                        <name>limit</name>
                                    </name>
                                    -
                                    <name><name>this</name>.
                                        <name>start</name>
                                    </name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>inuse</name>
                                    </name>
                                    = true
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>match</name>
                                    </name>
                                    =
                                    <name>null</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <if>if
                                <condition>(
                                    <expr>
                                        <name><name>this</name>.
                                            <name>offsets</name>
                                        </name>
                                        == <name>null</name> ||
                                        <name><name>this</name>.<name>offsets</name>.
                                            <name>length</name>
                                        </name>
                                        !=
                                        <name>nofclosures</name>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <expr_stmt>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>offsets</name>
                                            </name>
                                            = new
                                            <name>
                                                <name>int</name>
                                                <index>[
                                                    <expr>
                                                        <name>nofclosures</name>
                                                    </expr>
                                                    ]
                                                </index>
                                            </name>
                                        </expr>
                                        ;
                                    </expr_stmt>
                                </then>
                            </if>
                            <for>for (
                                <init>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>i</name> =
                                        <init>
                                            <expr>0</expr>
                                        </init>
                                    </decl>
                                    ;
                                </init>
                                <condition>
                                    <expr>
                                        <name>i</name>
                                        &lt;
                                        <name>nofclosures</name>
                                    </expr>
                                    ;
                                </condition>
                                <incr>
                                    <expr>
                                        <name>i</name>
                                        ++
                                    </expr>
                                </incr>
                                )
                                <expr_stmt>
                                    <expr>
                                        <name><name>this</name>.
                                            <name>offsets</name>
                                            <index>[
                                                <expr>
                                                    <name>i</name>
                                                </expr>
                                                ]
                                            </index>
                                        </name>
                                        = -1
                                    </expr>
                                    ;
                                </expr_stmt>
                            </for>
                            }
                        </block>
                    </function>
                    <function>
                        <type>
                            <name>void</name>
                        </type>
                        <name>reset</name>
                        <parameter_list>(
                            <param>
                                <decl>
                                    <type>
                                        <name>CharacterIterator</name>
                                    </type>
                                    <name>target</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>start</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>limit</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>nofclosures</name>
                                </decl>
                            </param>
                            )
                        </parameter_list>
                        <block>{
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>ciTarget</name>
                                    </name>
                                    =
                                    <name>target</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>start</name>
                                    </name>
                                    =
                                    <name>start</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>limit</name>
                                    </name>
                                    =
                                    <name>limit</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <call>
                                        <name><name>this</name>.
                                            <name>resetCommon</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>nofclosures</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                                ;
                            </expr_stmt>
                            }
                        </block>
                    </function>
                    <function>
                        <type>
                            <name>void</name>
                        </type>
                        <name>reset</name>
                        <parameter_list>(
                            <param>
                                <decl>
                                    <type>
                                        <name>String</name>
                                    </type>
                                    <name>target</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>start</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>limit</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>nofclosures</name>
                                </decl>
                            </param>
                            )
                        </parameter_list>
                        <block>{
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>strTarget</name>
                                    </name>
                                    =
                                    <name>target</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>start</name>
                                    </name>
                                    =
                                    <name>start</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>limit</name>
                                    </name>
                                    =
                                    <name>limit</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <call>
                                        <name><name>this</name>.
                                            <name>resetCommon</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>nofclosures</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                                ;
                            </expr_stmt>
                            }
                        </block>
                    </function>
                    <function>
                        <type>
                            <name>void</name>
                        </type>
                        <name>reset</name>
                        <parameter_list>(
                            <param>
                                <decl>
                                    <type>
                                        <name>
                                            <name>char</name>
                                            <index>[]</index>
                                        </name>
                                    </type>
                                    <name>target</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>start</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>limit</name>
                                </decl>
                            </param>
                            ,
                            <param>
                                <decl>
                                    <type>
                                        <name>int</name>
                                    </type>
                                    <name>nofclosures</name>
                                </decl>
                            </param>
                            )
                        </parameter_list>
                        <block>{
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>charTarget</name>
                                    </name>
                                    =
                                    <name>target</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>start</name>
                                    </name>
                                    =
                                    <name>start</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <name><name>this</name>.
                                        <name>limit</name>
                                    </name>
                                    =
                                    <name>limit</name>
                                </expr>
                                ;
                            </expr_stmt>
                            <expr_stmt>
                                <expr>
                                    <call>
                                        <name><name>this</name>.
                                            <name>resetCommon</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name>nofclosures</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                                ;
                            </expr_stmt>
                            }
                        </block>
                    </function>
                    }
                </block>
            </class>

            <comment type="javadoc">/**
                * Prepares for matching. This method is called just before starting matching.
                */
            </comment>
            <function>
                <type>
                    <name>void</name>
                </type>
                <name>prepare</name>
                <parameter_list>()</parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>Op</name>.
                                    <name>COUNT</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <expr_stmt>
                                <expr>
                                    <name><name>Op</name>.
                                        <name>nofinstances</name>
                                    </name>
                                    = 0
                                </expr>
                                ;
                            </expr_stmt>
                        </then>
                    </if>
                    <expr_stmt>
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>compile</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>tokentree</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>
                    <comment type="block">/*
                        if (this.operations.type == Op.CLOSURE &amp;&amp; this.operations.getChild().type == Op.DOT) {
                        // .*
                        Op anchor = Op.createAnchor(isSet(this.options, SINGLE_LINE) ? 'A' : '@');
                        anchor.next = this.operations;
                        this.operations = anchor;
                        }
                        */
                    </comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name><name>Op</name>.
                                    <name>COUNT</name>
                                </name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <expr_stmt>
                                <expr>
                                    <call>
                                        <name><name>System</name>.<name>err</name>.
                                            <name>println</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>"DEBUG: The number of operations: "+
                                                    <name><name>Op</name>.
                                                        <name>nofinstances</name>
                                                    </name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                                ;
                            </expr_stmt>
                        </then>
                    </if>

                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>minlength</name>
                            </name>
                            =
                            <call>
                                <name><name>this</name>.<name>tokentree</name>.
                                    <name>getMinLength</name>
                                </name>
                                <argument_list>()</argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>

                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>firstChar</name>
                            </name>
                            =
                            <name>null</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <if>if
                        <condition>(
                            <expr>!
                                <call>
                                    <name>isSet</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>options</name>
                                                </name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>PROHIBIT_HEAD_CHARACTER_OPTIMIZATION</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                                &amp;&amp; !
                                <call>
                                    <name>isSet</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>options</name>
                                                </name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>XMLSCHEMA_MODE</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>RangeToken</name>
                                        </type>
                                        <name>firstChar</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>Token</name>.
                                                        <name>createRange</name>
                                                    </name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <decl_stmt>
                                    <decl>
                                        <type>
                                            <name>int</name>
                                        </type>
                                        <name>fresult</name> =
                                        <init>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>tokentree</name>.
                                                        <name>analyzeFirstCharacter</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>firstChar</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>options</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                        </init>
                                    </decl>
                                    ;
                                </decl_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>fresult</name>
                                            ==
                                            <name><name>Token</name>.
                                                <name>FC_TERMINAL</name>
                                            </name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <expr_stmt>
                                                <expr>
                                                    <call>
                                                        <name><name>firstChar</name>.
                                                            <name>compactRanges</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <expr_stmt>
                                                <expr>
                                                    <name><name>this</name>.
                                                        <name>firstChar</name>
                                                    </name>
                                                    =
                                                    <name>firstChar</name>
                                                </expr>
                                                ;
                                            </expr_stmt>
                                            <if>if
                                                <condition>(
                                                    <expr>
                                                        <name>DEBUG</name>
                                                    </expr>
                                                    )
                                                </condition>
                                                <then>
                                                    <expr_stmt>
                                                        <expr>
                                                            <call>
                                                                <name><name>System</name>.<name>err</name>.
                                                                    <name>println</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>"DEBUG: Use the first character
                                                                            optimization: "+
                                                                            <name>firstChar</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                </then>
                                            </if>
                                            }
                                        </block>
                                    </then>
                                </if>
                                }
                            </block>
                        </then>
                    </if>

                    <if>if
                        <condition>(
                            <expr>
                                <name><name>this</name>.
                                    <name>operations</name>
                                </name>
                                !=
                                <name>null</name>
                                &amp;&amp; (
                                <name><name>this</name>.<name>operations</name>.
                                    <name>type</name>
                                </name>
                                ==
                                <name><name>Op</name>.
                                    <name>STRING</name>
                                </name>
                                ||
                                <name><name>this</name>.<name>operations</name>.
                                    <name>type</name>
                                </name>
                                ==
                                <name><name>Op</name>.
                                    <name>CHAR</name>
                                </name>
                                )
                                &amp;&amp;
                                <name><name>this</name>.<name>operations</name>.
                                    <name>next</name>
                                </name>
                                ==
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name>DEBUG</name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <expr_stmt>
                                            <expr>
                                                <call>
                                                    <name><name>System</name>.<name>err</name>.
                                                        <name>print</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>" *** Only fixed string! *** "</expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                    </then>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>this</name>.
                                            <name>fixedStringOnly</name>
                                        </name>
                                        = true
                                    </expr>
                                    ;
                                </expr_stmt>
                                <if>if
                                    <condition>(
                                        <expr>
                                            <name><name>this</name>.<name>operations</name>.
                                                <name>type</name>
                                            </name>
                                            ==
                                            <name><name>Op</name>.
                                                <name>STRING</name>
                                            </name>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <expr_stmt>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>fixedString</name>
                                                </name>
                                                =
                                                <call>
                                                    <name><name>this</name>.<name>operations</name>.
                                                        <name>getString</name>
                                                    </name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                    </then>
                                    <else>else
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <call>
                                                        <name><name>this</name>.<name>operations</name>.
                                                            <name>getData</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                    &gt;= 0x10000
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <comment type="line">// Op.CHAR</comment>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name><name>this</name>.
                                                                <name>fixedString</name>
                                                            </name>
                                                            =
                                                            <call>
                                                                <name><name>REUtil</name>.
                                                                    <name>decomposeToSurrogates</name>
                                                                </name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name><name>this</name>.<name>
                                                                                    operations</name>.
                                                                                    <name>getData</name>
                                                                                </name>
                                                                                <argument_list>()</argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </then>
                                            <else>else
                                                <block>{
                                                    <decl_stmt>
                                                        <decl>
                                                            <type>
                                                                <name>char</name>
                                                                <index>[]</index>
                                                            </type>
                                                            <name>ac</name> =
                                                            <init>
                                                                <expr>new
                                                                    <name>
                                                                        <name>char</name>
                                                                        <index>[<expr>1</expr>]
                                                                        </index>
                                                                    </name>
                                                                </expr>
                                                            </init>
                                                        </decl>
                                                        ;
                                                    </decl_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name>
                                                                <name>ac</name>
                                                                <index>[<expr>0</expr>]
                                                                </index>
                                                            </name>
                                                            = (<name>char</name>)
                                                            <call>
                                                                <name><name>this</name>.<name>operations</name>.
                                                                    <name>getData</name>
                                                                </name>
                                                                <argument_list>()</argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <expr_stmt>
                                                        <expr>
                                                            <name><name>this</name>.
                                                                <name>fixedString</name>
                                                            </name>
                                                            = new
                                                            <call>
                                                                <name>String</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name>ac</name>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    }
                                                </block>
                                            </else>
                                        </if>
                                    </else>
                                </if>
                                <expr_stmt>
                                    <expr>
                                        <name><name>this</name>.
                                            <name>fixedStringOptions</name>
                                        </name>
                                        =
                                        <name><name>this</name>.
                                            <name>options</name>
                                        </name>
                                    </expr>
                                    ;
                                </expr_stmt>
                                <expr_stmt>
                                    <expr>
                                        <name><name>this</name>.
                                            <name>fixedStringTable</name>
                                        </name>
                                        = new
                                        <call>
                                            <name>BMPattern</name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>fixedString</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>256</expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <call>
                                                            <name>isSet</name>
                                                            <argument_list>(
                                                                <argument>
                                                                    <expr>
                                                                        <name><name>this</name>.
                                                                            <name>fixedStringOptions</name>
                                                                        </name>
                                                                    </expr>
                                                                </argument>
                                                                ,
                                                                <argument>
                                                                    <expr>
                                                                        <name>IGNORE_CASE</name>
                                                                    </expr>
                                                                </argument>
                                                                )
                                                            </argument_list>
                                                        </call>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    ;
                                </expr_stmt>
                                }
                            </block>
                        </then>
                        <else>else
                            <if>if
                                <condition>(
                                    <expr>!
                                        <call>
                                            <name>isSet</name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>options</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>PROHIBIT_FIXED_STRING_OPTIMIZATION</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        &amp;&amp; !
                                        <call>
                                            <name>isSet</name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>options</name>
                                                        </name>
                                                    </expr>
                                                </argument>
                                                ,
                                                <argument>
                                                    <expr>
                                                        <name>XMLSCHEMA_MODE</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                    </expr>
                                    )
                                </condition>
                                <then>
                                    <block>{
                                        <decl_stmt>
                                            <decl>
                                                <type>
                                                    <name><name>Token</name>.
                                                        <name>FixedStringContainer</name>
                                                    </name>
                                                </type>
                                                <name>container</name> =
                                                <init>
                                                    <expr>new
                                                        <call>
                                                            <name><name>Token</name>.
                                                                <name>FixedStringContainer</name>
                                                            </name>
                                                            <argument_list>()</argument_list>
                                                        </call>
                                                    </expr>
                                                </init>
                                            </decl>
                                            ;
                                        </decl_stmt>
                                        <expr_stmt>
                                            <expr>
                                                <call>
                                                    <name><name>this</name>.<name>tokentree</name>.
                                                        <name>findFixedString</name>
                                                    </name>
                                                    <argument_list>(
                                                        <argument>
                                                            <expr>
                                                                <name>container</name>
                                                            </expr>
                                                        </argument>
                                                        ,
                                                        <argument>
                                                            <expr>
                                                                <name><name>this</name>.
                                                                    <name>options</name>
                                                                </name>
                                                            </expr>
                                                        </argument>
                                                        )
                                                    </argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <expr_stmt>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>fixedString</name>
                                                </name>
                                                =
                                                <name><name>container</name>.
                                                    <name>token</name>
                                                </name>
                                                == <name>null</name> ? <name>null</name> :
                                                <call>
                                                    <name><name>container</name>.<name>token</name>.
                                                        <name>getString</name>
                                                    </name>
                                                    <argument_list>()</argument_list>
                                                </call>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <expr_stmt>
                                            <expr>
                                                <name><name>this</name>.
                                                    <name>fixedStringOptions</name>
                                                </name>
                                                =
                                                <name><name>container</name>.
                                                    <name>options</name>
                                                </name>
                                            </expr>
                                            ;
                                        </expr_stmt>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name><name>this</name>.
                                                        <name>fixedString</name>
                                                    </name>
                                                    != <name>null</name> &amp;&amp;
                                                    <call>
                                                        <name><name>this</name>.<name>fixedString</name>.
                                                            <name>length</name>
                                                        </name>
                                                        <argument_list>()</argument_list>
                                                    </call>
                                                    &lt; 2
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <expr_stmt>
                                                    <expr>
                                                        <name><name>this</name>.
                                                            <name>fixedString</name>
                                                        </name>
                                                        =
                                                        <name>null</name>
                                                    </expr>
                                                    ;
                                                </expr_stmt>
                                            </then>
                                        </if>
                                        <comment type="line">// This pattern has a fixed string of which length is more
                                            than one.
                                        </comment>
                                        <if>if
                                            <condition>(
                                                <expr>
                                                    <name><name>this</name>.
                                                        <name>fixedString</name>
                                                    </name>
                                                    !=
                                                    <name>null</name>
                                                </expr>
                                                )
                                            </condition>
                                            <then>
                                                <block>{
                                                    <expr_stmt>
                                                        <expr>
                                                            <name><name>this</name>.
                                                                <name>fixedStringTable</name>
                                                            </name>
                                                            = new
                                                            <call>
                                                                <name>BMPattern</name>
                                                                <argument_list>(
                                                                    <argument>
                                                                        <expr>
                                                                            <name><name>this</name>.
                                                                                <name>fixedString</name>
                                                                            </name>
                                                                        </expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>256</expr>
                                                                    </argument>
                                                                    ,
                                                                    <argument>
                                                                        <expr>
                                                                            <call>
                                                                                <name>isSet</name>
                                                                                <argument_list>(
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name><name>this</name>.
                                                                                                <name>
                                                                                                    fixedStringOptions
                                                                                                </name>
                                                                                            </name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    ,
                                                                                    <argument>
                                                                                        <expr>
                                                                                            <name>IGNORE_CASE</name>
                                                                                        </expr>
                                                                                    </argument>
                                                                                    )
                                                                                </argument_list>
                                                                            </call>
                                                                        </expr>
                                                                    </argument>
                                                                    )
                                                                </argument_list>
                                                            </call>
                                                        </expr>
                                                        ;
                                                    </expr_stmt>
                                                    <if>if
                                                        <condition>(
                                                            <expr>
                                                                <name>DEBUG</name>
                                                            </expr>
                                                            )
                                                        </condition>
                                                        <then>
                                                            <block>{
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>System</name>.<name>err</name>.
                                                                                <name>println</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>"DEBUG: The longest fixed
                                                                                        string: "+
                                                                                        <call>
                                                                                            <name><name>this</name>
                                                                                                .<name>
                                                                                                    fixedString</name>.
                                                                                                <name>length</name>
                                                                                            </name>
                                                                                            <argument_list>()
                                                                                            </argument_list>
                                                                                        </call>
                                                                                        +"/"
                                                                                        <comment type="line">
                                                                                            //+this.fixedString
                                                                                        </comment>
                                                                                        +"/"+
                                                                                        <call>
                                                                                            <name><name>REUtil</name>.
                                                                                                <name>
                                                                                                    createOptionString
                                                                                                </name>
                                                                                            </name>
                                                                                            <argument_list>(
                                                                                                <argument>
                                                                                                    <expr>
                                                                                                        <name><name>
                                                                                                            this</name>.
                                                                                                            <name>
                                                                                                                fixedStringOptions
                                                                                                            </name>
                                                                                                        </name>
                                                                                                    </expr>
                                                                                                </argument>
                                                                                                )
                                                                                            </argument_list>
                                                                                        </call>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>System</name>.<name>err</name>.
                                                                                <name>print</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>"String: "</expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                <expr_stmt>
                                                                    <expr>
                                                                        <call>
                                                                            <name><name>REUtil</name>.
                                                                                <name>dumpString</name>
                                                                            </name>
                                                                            <argument_list>(
                                                                                <argument>
                                                                                    <expr>
                                                                                        <name><name>this</name>.
                                                                                            <name>fixedString</name>
                                                                                        </name>
                                                                                    </expr>
                                                                                </argument>
                                                                                )
                                                                            </argument_list>
                                                                        </call>
                                                                    </expr>
                                                                    ;
                                                                </expr_stmt>
                                                                }
                                                            </block>
                                                        </then>
                                                    </if>
                                                    }
                                                </block>
                                            </then>
                                        </if>
                                        }
                                    </block>
                                </then>
                            </if>
                        </else>
                    </if>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * An option.
                * If you specify this option, &lt;span class="REGEX"&gt;&lt;kbd&gt;(&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;&lt;/span&gt;
                * captures matched text, and &lt;span class="REGEX"&gt;&lt;kbd&gt;(:?&lt;/kbd&gt;&lt;var&gt;X&lt;/var&gt;&lt;kbd&gt;)&lt;/kbd&gt;&lt;/span&gt;
                * does not capture.
                *
                * @see #RegularExpression(java.lang.String,int)
                * @see #setPattern(java.lang.String,int)
                static final int MARK_PARENS = 1&lt;&lt;0;
                */
            </comment>

            <comment type="javadoc">/**
                * "i"
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>IGNORE_CASE</name> =
                    <init>
                        <expr>1&lt;&lt;1</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <comment type="javadoc">/**
                * "s"
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>SINGLE_LINE</name> =
                    <init>
                        <expr>1&lt;&lt;2</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <comment type="javadoc">/**
                * "m"
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>MULTIPLE_LINES</name> =
                    <init>
                        <expr>1&lt;&lt;3</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <comment type="javadoc">/**
                * "x"
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>EXTENDED_COMMENT</name> =
                    <init>
                        <expr>1&lt;&lt;4</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <comment type="javadoc">/**
                * This option redefines &lt;span class="REGEX"&gt;&lt;kbd&gt;\d \D \w \W \s \S&lt;/kbd&gt;&lt;/span&gt;.
                *
                * @see #RegularExpression(java.lang.String,int)
                * @see #setPattern(java.lang.String,int)
                * @see #UNICODE_WORD_BOUNDARY
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>USE_UNICODE_CATEGORY</name> =
                    <init>
                        <expr>1&lt;&lt;5</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <comment type="line">// "u"</comment>

            <comment type="javadoc">/**
                * An option.
                * This enables to process locale-independent word boundary for &lt;span class="REGEX"&gt;&lt;kbd&gt;\b
                \B \&amp;lt; \&gt;&lt;/kbd&gt;&lt;/span&gt;.
                * &lt;p&gt;By default, the engine considers a position between a word character
                * (&lt;span class="REGEX"&gt;&lt;Kbd&gt;\w&lt;/kbd&gt;&lt;/span&gt;) and a non word character
                * is a word boundary.
                * &lt;p&gt;By this option, the engine checks word boundaries with the method of
                * 'Unicode Regular Expression Guidelines' Revision 4.
                *
                * @see #RegularExpression(java.lang.String,int)
                * @see #setPattern(java.lang.String,int)
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>UNICODE_WORD_BOUNDARY</name> =
                    <init>
                        <expr>1&lt;&lt;6</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <comment type="line">// "w"</comment>

            <comment type="javadoc">/**
                * "H"
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>PROHIBIT_HEAD_CHARACTER_OPTIMIZATION</name> =
                    <init>
                        <expr>1&lt;&lt;7</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <comment type="javadoc">/**
                * "F"
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>PROHIBIT_FIXED_STRING_OPTIMIZATION</name> =
                    <init>
                        <expr>1&lt;&lt;8</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <comment type="javadoc">/**
                * "X". XML Schema mode.
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>XMLSCHEMA_MODE</name> =
                    <init>
                        <expr>1&lt;&lt;9</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <comment type="javadoc">/**
                * ",".
                */
            </comment>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>SPECIAL_COMMA</name> =
                    <init>
                        <expr>1&lt;&lt;10</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>


            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>isSet</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>options</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>flag</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>(<name>options</name> &amp; <name>flag</name>) ==
                            <name>flag</name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Creates a new RegularExpression instance.
                *
                * @param regex A regular expression
                * @exception org.apache.xerces.utils.regex.ParseException &lt;VAR&gt;regex&lt;/VAR&gt; is not conforming
                to the syntax.
                */
            </comment>
            <constructor>
                <specifier>public</specifier>
                <name>RegularExpression</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>regex</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <throws>throws
                    <argument>
                        <expr>
                            <name>ParseException</name>
                        </expr>
                    </argument>
                </throws>
                <block>{
                    <expr_stmt>
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>setPattern</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>regex</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>null</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>
                    }
                </block>
            </constructor>

            <comment type="javadoc">/**
                * Creates a new RegularExpression instance with options.
                *
                * @param regex A regular expression
                * @param options A String consisted of "i" "m" "s" "u" "w" "," "X"
                * @exception org.apache.xerces.utils.regex.ParseException &lt;VAR&gt;regex&lt;/VAR&gt; is not conforming
                to the syntax.
                */
            </comment>
            <constructor>
                <specifier>public</specifier>
                <name>RegularExpression</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>regex</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>options</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <throws>throws
                    <argument>
                        <expr>
                            <name>ParseException</name>
                        </expr>
                    </argument>
                </throws>
                <block>{
                    <expr_stmt>
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>setPattern</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>regex</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name>options</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>
                    }
                </block>
            </constructor>

            <constructor>
                <name>RegularExpression</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>regex</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>Token</name>
                            </type>
                            <name>tok</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>parens</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>boolean</name>
                            </type>
                            <name>hasBackReferences</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>options</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>regex</name>
                            </name>
                            =
                            <name>regex</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>tokentree</name>
                            </name>
                            =
                            <name>tok</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>nofparen</name>
                            </name>
                            =
                            <name>parens</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>options</name>
                            </name>
                            =
                            <name>options</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>hasBackReferences</name>
                            </name>
                            =
                            <name>hasBackReferences</name>
                        </expr>
                        ;
                    </expr_stmt>
                    }
                </block>
            </constructor>

            <comment type="javadoc">/**
                *
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>void</name>
                </type>
                <name>setPattern</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>newPattern</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <throws>throws
                    <argument>
                        <expr>
                            <name>ParseException</name>
                        </expr>
                    </argument>
                </throws>
                <block>{
                    <expr_stmt>
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>setPattern</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>newPattern</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>options</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <name>void</name>
                </type>
                <name>setPattern</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>newPattern</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>options</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <throws>throws
                    <argument>
                        <expr>
                            <name>ParseException</name>
                        </expr>
                    </argument>
                </throws>
                <block>{
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>regex</name>
                            </name>
                            =
                            <name>newPattern</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>options</name>
                            </name>
                            =
                            <name>options</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>RegexParser</name>
                            </type>
                            <name>rp</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name><name>RegularExpression</name>.
                                            <name>isSet</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>
                                                    <name><name>this</name>.
                                                        <name>options</name>
                                                    </name>
                                                </expr>
                                            </argument>
                                            ,
                                            <argument>
                                                <expr>
                                                    <name><name>RegularExpression</name>.
                                                        <name>XMLSCHEMA_MODE</name>
                                                    </name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                    ? new
                                    <call>
                                        <name>ParserForXMLSchema</name>
                                        <argument_list>()</argument_list>
                                    </call>
                                    : new
                                    <call>
                                        <name>RegexParser</name>
                                        <argument_list>()</argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>tokentree</name>
                            </name>
                            =
                            <call>
                                <name><name>rp</name>.
                                    <name>parse</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>regex</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>options</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>nofparen</name>
                            </name>
                            =
                            <name><name>rp</name>.
                                <name>parennumber</name>
                            </name>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>hasBackReferences</name>
                            </name>
                            =
                            <name><name>rp</name>.
                                <name>hasBackReferences</name>
                            </name>
                        </expr>
                        ;
                    </expr_stmt>

                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>operations</name>
                            </name>
                            =
                            <name>null</name>
                        </expr>
                        ;
                    </expr_stmt>
                    <expr_stmt>
                        <expr>
                            <name><name>this</name>.
                                <name>context</name>
                            </name>
                            =
                            <name>null</name>
                        </expr>
                        ;
                    </expr_stmt>
                    }
                </block>
            </function>
            <comment type="javadoc">/**
                *
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>void</name>
                </type>
                <name>setPattern</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>newPattern</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>options</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <throws>throws
                    <argument>
                        <expr>
                            <name>ParseException</name>
                        </expr>
                    </argument>
                </throws>
                <block>{
                    <expr_stmt>
                        <expr>
                            <call>
                                <name><name>this</name>.
                                    <name>setPattern</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>newPattern</name>
                                        </expr>
                                    </argument>
                                    ,
                                    <argument>
                                        <expr>
                                            <call>
                                                <name><name>REUtil</name>.
                                                    <name>parseOptions</name>
                                                </name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>options</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </expr_stmt>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                *
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>String</name>
                </type>
                <name>getPattern</name>
                <parameter_list>()</parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <name><name>this</name>.
                                <name>regex</name>
                            </name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Represents this instence in String.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>String</name>
                </type>
                <name>toString</name>
                <parameter_list>()</parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.<name>tokentree</name>.
                                    <name>toString</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>options</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Returns a option string.
                * The order of letters in it may be different from a string specified
                * in a constructor or &lt;code&gt;setPattern()&lt;/code&gt;.
                *
                * @see #RegularExpression(java.lang.String,java.lang.String)
                * @see #setPattern(java.lang.String,java.lang.String)
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>String</name>
                </type>
                <name>getOptions</name>
                <parameter_list>()</parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>REUtil</name>.
                                    <name>createOptionString</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name><name>this</name>.
                                                <name>options</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Return true if patterns are the same and the options are equivalent.
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>boolean</name>
                </type>
                <name>equals</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>Object</name>
                            </type>
                            <name>obj</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>obj</name>
                                ==
                                <name>null</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>!(<name>obj</name>
                                <name>instanceof</name>
                                <name>RegularExpression</name>)
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>RegularExpression</name>
                            </type>
                            <name>r</name> =
                            <init>
                                <expr>(<name>RegularExpression</name>)
                                    <name>obj</name>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.<name>regex</name>.
                                    <name>equals</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name><name>r</name>.
                                                <name>regex</name>
                                            </name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                            &amp;&amp;
                            <name><name>this</name>.
                                <name>options</name>
                            </name>
                            ==
                            <name><name>r</name>.
                                <name>options</name>
                            </name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <name>boolean</name>
                </type>
                <name>equals</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>String</name>
                            </type>
                            <name>pattern</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>options</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <call>
                                <name><name>this</name>.<name>regex</name>.
                                    <name>equals</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>pattern</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                            &amp;&amp;
                            <name><name>this</name>.
                                <name>options</name>
                            </name>
                            ==
                            <name>options</name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                *
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>int</name>
                </type>
                <name>hashCode</name>
                <parameter_list>()</parameter_list>
                <block>{
                    <return>return
                        <expr>(
                            <name><name>this</name>.
                                <name>regex</name>
                            </name>
                            +"/"+
                            <call>
                                <name><name>this</name>.
                                    <name>getOptions</name>
                                </name>
                                <argument_list>()</argument_list>
                            </call>
                            ).
                            <call>
                                <name>hashCode</name>
                                <argument_list>()</argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="javadoc">/**
                * Return the number of regular expression groups.
                * This method returns 1 when the regular expression has no capturing-parenthesis.
                *
                */
            </comment>
            <function>
                <type>
                    <specifier>public</specifier>
                    <name>int</name>
                </type>
                <name>getNumberOfGroups</name>
                <parameter_list>()</parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <name><name>this</name>.
                                <name>nofparen</name>
                            </name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <comment type="line">// ================================================================</comment>

            <decl_stmt>
                <decl>
                    <type>
                        <specifier>private</specifier>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>WT_IGNORE</name> =
                    <init>
                        <expr>0</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>private</specifier>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>WT_LETTER</name> =
                    <init>
                        <expr>1</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>private</specifier>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>WT_OTHER</name> =
                    <init>
                        <expr>2</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>int</name>
                </type>
                <name>getWordType0</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>char</name>
                            </type>
                            <name>ch</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>opts</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>!
                                <call>
                                    <name>isSet</name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>opts</name>
                                            </expr>
                                        </argument>
                                        ,
                                        <argument>
                                            <expr>
                                                <name>UNICODE_WORD_BOUNDARY</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            )
                        </condition>
                        <then>
                            <block>{
                                <if>if
                                    <condition>(
                                        <expr>
                                            <call>
                                                <name>isSet</name>
                                                <argument_list>(
                                                    <argument>
                                                        <expr>
                                                            <name>opts</name>
                                                        </expr>
                                                    </argument>
                                                    ,
                                                    <argument>
                                                        <expr>
                                                            <name>USE_UNICODE_CATEGORY</name>
                                                        </expr>
                                                    </argument>
                                                    )
                                                </argument_list>
                                            </call>
                                        </expr>
                                        )
                                    </condition>
                                    <then>
                                        <block>{
                                            <return>return
                                                <expr>(
                                                    <call>
                                                        <name><name>Token</name>.
                                                            <name>getRange</name>
                                                        </name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>"IsWord"</expr>
                                                            </argument>
                                                            ,
                                                            <argument>
                                                                <expr>true</expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                    .
                                                    <call>
                                                        <name>match</name>
                                                        <argument_list>(
                                                            <argument>
                                                                <expr>
                                                                    <name>ch</name>
                                                                </expr>
                                                            </argument>
                                                            )
                                                        </argument_list>
                                                    </call>
                                                    ) ? <name>WT_LETTER</name> :
                                                    <name>WT_OTHER</name>
                                                </expr>
                                                ;
                                            </return>
                                            }
                                        </block>
                                    </then>
                                </if>
                                <return>return
                                    <expr>
                                        <call>
                                            <name>isWordChar</name>
                                            <argument_list>(
                                                <argument>
                                                    <expr>
                                                        <name>ch</name>
                                                    </expr>
                                                </argument>
                                                )
                                            </argument_list>
                                        </call>
                                        ? <name>WT_LETTER</name> :
                                        <name>WT_OTHER</name>
                                    </expr>
                                    ;
                                </return>
                                }
                            </block>
                        </then>
                    </if>

                    <switch>switch
                        <condition>(
                            <expr>
                                <call>
                                    <name><name>Character</name>.
                                        <name>getType</name>
                                    </name>
                                    <argument_list>(
                                        <argument>
                                            <expr>
                                                <name>ch</name>
                                            </expr>
                                        </argument>
                                        )
                                    </argument_list>
                                </call>
                            </expr>
                            )
                        </condition>
                        <block>{
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>UPPERCASE_LETTER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// L</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>LOWERCASE_LETTER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// L</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>TITLECASE_LETTER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// L</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>MODIFIER_LETTER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// L</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>OTHER_LETTER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// L</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>LETTER_NUMBER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// N</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>DECIMAL_DIGIT_NUMBER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// N</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>OTHER_NUMBER</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// N</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>COMBINING_SPACING_MARK</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// Mc</comment>
                                <return>return
                                    <expr>
                                        <name>WT_LETTER</name>
                                    </expr>
                                    ;
                                </return>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>FORMAT</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// Cf</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>NON_SPACING_MARK</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// Mn</comment>
                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>ENCLOSING_MARK</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// Mc</comment>
                                <return>return
                                    <expr>
                                        <name>WT_IGNORE</name>
                                    </expr>
                                    ;
                                </return>

                            </case>
                            <case>case
                                <expr>
                                    <name><name>Character</name>.
                                        <name>CONTROL</name>
                                    </name>
                                </expr>
                                :
                                <comment type="line">// Cc</comment>
                                <switch>switch
                                    <condition>(
                                        <expr>
                                            <name>ch</name>
                                        </expr>
                                        )
                                    </condition>
                                    <block>{
                                        <case>case <expr>'\t'</expr>:
                                        </case>
                                        <case>case <expr>'\n'</expr>:
                                        </case>
                                        <case>case <expr>'\u000B'</expr>:
                                        </case>
                                        <case>case <expr>'\f'</expr>:
                                        </case>
                                        <case>case <expr>'\r'</expr>:
                                            <return>return
                                                <expr>
                                                    <name>WT_OTHER</name>
                                                </expr>
                                                ;
                                            </return>
                                        </case>
                                        <default>default:
                                            <return>return
                                                <expr>
                                                    <name>WT_IGNORE</name>
                                                </expr>
                                                ;
                                            </return>
                                        </default>
                                        }
                                    </block>
                                </switch>

                            </case>
                            <default>default:
                                <return>return
                                    <expr>
                                        <name>WT_OTHER</name>
                                    </expr>
                                    ;
                                </return>
                            </default>
                            }
                        </block>
                    </switch>
                    }
                </block>
            </function>

            <comment type="line">// ================================================================</comment>

            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>LINE_FEED</name> =
                    <init>
                        <expr>0x000A</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>CARRIAGE_RETURN</name> =
                    <init>
                        <expr>0x000D</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>LINE_SEPARATOR</name> =
                    <init>
                        <expr>0x2028</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>
            <decl_stmt>
                <decl>
                    <type>
                        <specifier>static</specifier>
                        <specifier>final</specifier>
                        <name>int</name>
                    </type>
                    <name>PARAGRAPH_SEPARATOR</name> =
                    <init>
                        <expr>0x2029</expr>
                    </init>
                </decl>
                ;
            </decl_stmt>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>isEOLChar</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>ch</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <return>return
                        <expr>
                            <name>ch</name>
                            == <name>LINE_FEED</name> || <name>ch</name> == <name>CARRIAGE_RETURN</name> || <name>ch
                        </name> ==
                            <name>LINE_SEPARATOR</name>
                            || <name>ch</name> ==
                            <name>PARAGRAPH_SEPARATOR</name>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>isWordChar</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>ch</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <comment type="line">// Legacy word characters</comment>
                    <if>if
                        <condition>(
                            <expr>
                                <name>ch</name>
                                == '_'
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>true</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>
                                <name>ch</name>
                                &lt; '0'
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>
                                <name>ch</name>
                                &gt; 'z'
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>
                                <name>ch</name>
                                &lt;= '9'
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>true</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>
                                <name>ch</name>
                                &lt; 'A'
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>
                                <name>ch</name>
                                &lt;= 'Z'
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>true</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>
                                <name>ch</name>
                                &lt; 'a'
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <return>return <expr>true</expr>;
                    </return>
                    }
                </block>
            </function>

            <function>
                <type>
                    <specifier>private</specifier>
                    <specifier>static</specifier>
                    <specifier>final</specifier>
                    <name>boolean</name>
                </type>
                <name>matchIgnoreCase</name>
                <parameter_list>(
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>chardata</name>
                        </decl>
                    </param>
                    ,
                    <param>
                        <decl>
                            <type>
                                <name>int</name>
                            </type>
                            <name>ch</name>
                        </decl>
                    </param>
                    )
                </parameter_list>
                <block>{
                    <if>if
                        <condition>(
                            <expr>
                                <name>chardata</name>
                                ==
                                <name>ch</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>true</expr>;
                            </return>
                        </then>
                    </if>
                    <if>if
                        <condition>(
                            <expr>
                                <name>chardata</name>
                                &gt; 0xffff || <name>ch</name> &gt; 0xffff
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>false</expr>;
                            </return>
                        </then>
                    </if>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>char</name>
                            </type>
                            <name>uch1</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name><name>Character</name>.
                                            <name>toUpperCase</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>(<name>char</name>)
                                                    <name>chardata</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <decl_stmt>
                        <decl>
                            <type>
                                <name>char</name>
                            </type>
                            <name>uch2</name> =
                            <init>
                                <expr>
                                    <call>
                                        <name><name>Character</name>.
                                            <name>toUpperCase</name>
                                        </name>
                                        <argument_list>(
                                            <argument>
                                                <expr>(<name>char</name>)
                                                    <name>ch</name>
                                                </expr>
                                            </argument>
                                            )
                                        </argument_list>
                                    </call>
                                </expr>
                            </init>
                        </decl>
                        ;
                    </decl_stmt>
                    <if>if
                        <condition>(
                            <expr>
                                <name>uch1</name>
                                ==
                                <name>uch2</name>
                            </expr>
                            )
                        </condition>
                        <then>
                            <return>return <expr>true</expr>;
                            </return>
                        </then>
                    </if>
                    <return>return
                        <expr>
                            <call>
                                <name><name>Character</name>.
                                    <name>toLowerCase</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>uch1</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                            ==
                            <call>
                                <name><name>Character</name>.
                                    <name>toLowerCase</name>
                                </name>
                                <argument_list>(
                                    <argument>
                                        <expr>
                                            <name>uch2</name>
                                        </expr>
                                    </argument>
                                    )
                                </argument_list>
                            </call>
                        </expr>
                        ;
                    </return>
                    }
                </block>
            </function>
            }
        </block>
    </class>
</unit>
